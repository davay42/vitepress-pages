"use strict";var S=Object.defineProperty,_=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var x=(e,r,n)=>r in e?S(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,E=(e,r)=>{for(var n in r||(r={}))O.call(r,n)&&x(e,n,r[n]);if(A)for(var n of A(r))I.call(r,n)&&x(e,n,r[n]);return e},y=(e,r)=>_(e,C(r));Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var path$3={},__viteBrowserExternal=Object.freeze(Object.defineProperty({__proto__:null,default:path$3},Symbol.toStringTag,{value:"Module"}));function getAugmentedNamespace(e){if(e.__esModule)return e;var r=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),r}function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var require$$2=getAugmentedNamespace(__viteBrowserExternal),toString=Object.prototype.toString,kindOf=function(r){if(r===void 0)return"undefined";if(r===null)return"null";var n=typeof r;if(n==="boolean")return"boolean";if(n==="string")return"string";if(n==="number")return"number";if(n==="symbol")return"symbol";if(n==="function")return isGeneratorFn(r)?"generatorfunction":"function";if(isArray(r))return"array";if(isBuffer$1(r))return"buffer";if(isArguments(r))return"arguments";if(isDate(r))return"date";if(isError(r))return"error";if(isRegexp(r))return"regexp";switch(ctorName(r)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(isGeneratorObj(r))return"generator";switch(n=toString.call(r),n){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return n.slice(8,-1).toLowerCase().replace(/\s/g,"")};function ctorName(e){return typeof e.constructor=="function"?e.constructor.name:null}function isArray(e){return Array.isArray?Array.isArray(e):e instanceof Array}function isError(e){return e instanceof Error||typeof e.message=="string"&&e.constructor&&typeof e.constructor.stackTraceLimit=="number"}function isDate(e){return e instanceof Date?!0:typeof e.toDateString=="function"&&typeof e.getDate=="function"&&typeof e.setDate=="function"}function isRegexp(e){return e instanceof RegExp?!0:typeof e.flags=="string"&&typeof e.ignoreCase=="boolean"&&typeof e.multiline=="boolean"&&typeof e.global=="boolean"}function isGeneratorFn(e,r){return ctorName(e)==="GeneratorFunction"}function isGeneratorObj(e){return typeof e.throw=="function"&&typeof e.return=="function"&&typeof e.next=="function"}function isArguments(e){try{if(typeof e.length=="number"&&typeof e.callee=="function")return!0}catch(r){if(r.message.indexOf("callee")!==-1)return!0}return!1}function isBuffer$1(e){return e.constructor&&typeof e.constructor.isBuffer=="function"?e.constructor.isBuffer(e):!1}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var isExtendable=function(r){return typeof r!="undefined"&&r!==null&&(typeof r=="object"||typeof r=="function")},isObject$1=isExtendable,extendShallow=function(r){isObject$1(r)||(r={});for(var n=arguments.length,o=1;o<n;o++){var s=arguments[o];isObject$1(s)&&assign(r,s)}return r};function assign(e,r){for(var n in r)hasOwn(r,n)&&(e[n]=r[n])}function hasOwn(e,r){return Object.prototype.hasOwnProperty.call(e,r)}var typeOf$2=kindOf,extend$2=extendShallow,sectionMatter=function(e,r){typeof r=="function"&&(r={parse:r});var n=toObject(e),o={section_delimiter:"---",parse:identity},s=extend$2({},o,r),a=s.section_delimiter,l=n.content.split(/\r?\n/),c=null,u=createSection(),f=[],d=[];function h(b){n.content=b,c=[],f=[]}function p(b){d.length&&(u.key=getKey(d[0],a),u.content=b,s.parse(u,c),c.push(u),u=createSection(),f=[],d=[])}for(var m=0;m<l.length;m++){var $=l[m],v=d.length,g=$.trim();if(isDelimiter(g,a)){if(g.length===3&&m!==0){if(v===0||v===2){f.push($);continue}d.push(g),u.data=f.join(`
`),f=[];continue}c===null&&h(f.join(`
`)),v===2&&p(f.join(`
`)),d.push(g);continue}f.push($)}return c===null?h(f.join(`
`)):p(f.join(`
`)),n.sections=c,n};function isDelimiter(e,r){return!(e.slice(0,r.length)!==r||e.charAt(r.length+1)===r.slice(-1))}function toObject(e){if(typeOf$2(e)!=="object"&&(e={content:e}),typeof e.content!="string"&&!isBuffer(e.content))throw new TypeError("expected a buffer or string");return e.content=e.content.toString(),e.sections=[],e}function getKey(e,r){return e?e.slice(r.length).trim():""}function createSection(){return{key:"",data:"",content:""}}function identity(e){return e}function isBuffer(e){return e&&e.constructor&&typeof e.constructor.isBuffer=="function"?e.constructor.isBuffer(e):!1}var engines$3={exports:{}},jsYaml$1={},loader$1={},common$6={};function isNothing(e){return typeof e=="undefined"||e===null}function isObject(e){return typeof e=="object"&&e!==null}function toArray(e){return Array.isArray(e)?e:isNothing(e)?[]:[e]}function extend$1(e,r){var n,o,s,a;if(r)for(a=Object.keys(r),n=0,o=a.length;n<o;n+=1)s=a[n],e[s]=r[s];return e}function repeat(e,r){var n="",o;for(o=0;o<r;o+=1)n+=e;return n}function isNegativeZero(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}common$6.isNothing=isNothing;common$6.isObject=isObject;common$6.toArray=toArray;common$6.repeat=repeat;common$6.isNegativeZero=isNegativeZero;common$6.extend=extend$1;function YAMLException$4(e,r){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=r,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}YAMLException$4.prototype=Object.create(Error.prototype);YAMLException$4.prototype.constructor=YAMLException$4;YAMLException$4.prototype.toString=function(r){var n=this.name+": ";return n+=this.reason||"(unknown reason)",!r&&this.mark&&(n+=" "+this.mark.toString()),n};var exception=YAMLException$4,common$5=common$6;function Mark$1(e,r,n,o,s){this.name=e,this.buffer=r,this.position=n,this.line=o,this.column=s}Mark$1.prototype.getSnippet=function(r,n){var o,s,a,l,c;if(!this.buffer)return null;for(r=r||4,n=n||75,o="",s=this.position;s>0&&`\0\r
\x85\u2028\u2029`.indexOf(this.buffer.charAt(s-1))===-1;)if(s-=1,this.position-s>n/2-1){o=" ... ",s+=5;break}for(a="",l=this.position;l<this.buffer.length&&`\0\r
\x85\u2028\u2029`.indexOf(this.buffer.charAt(l))===-1;)if(l+=1,l-this.position>n/2-1){a=" ... ",l-=5;break}return c=this.buffer.slice(s,l),common$5.repeat(" ",r)+o+c+a+`
`+common$5.repeat(" ",r+this.position-s+o.length)+"^"};Mark$1.prototype.toString=function(r){var n,o="";return this.name&&(o+='in "'+this.name+'" '),o+="at line "+(this.line+1)+", column "+(this.column+1),r||(n=this.getSnippet(),n&&(o+=`:
`+n)),o};var mark=Mark$1,YAMLException$3=exception,TYPE_CONSTRUCTOR_OPTIONS=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],YAML_NODE_KINDS=["scalar","sequence","mapping"];function compileStyleAliases(e){var r={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(o){r[String(o)]=n})}),r}function Type$h(e,r){if(r=r||{},Object.keys(r).forEach(function(n){if(TYPE_CONSTRUCTOR_OPTIONS.indexOf(n)===-1)throw new YAMLException$3('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.tag=e,this.kind=r.kind||null,this.resolve=r.resolve||function(){return!0},this.construct=r.construct||function(n){return n},this.instanceOf=r.instanceOf||null,this.predicate=r.predicate||null,this.represent=r.represent||null,this.defaultStyle=r.defaultStyle||null,this.styleAliases=compileStyleAliases(r.styleAliases||null),YAML_NODE_KINDS.indexOf(this.kind)===-1)throw new YAMLException$3('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var type=Type$h,common$4=common$6,YAMLException$2=exception,Type$g=type;function compileList(e,r,n){var o=[];return e.include.forEach(function(s){n=compileList(s,r,n)}),e[r].forEach(function(s){n.forEach(function(a,l){a.tag===s.tag&&a.kind===s.kind&&o.push(l)}),n.push(s)}),n.filter(function(s,a){return o.indexOf(a)===-1})}function compileMap(){var e={scalar:{},sequence:{},mapping:{},fallback:{}},r,n;function o(s){e[s.kind][s.tag]=e.fallback[s.tag]=s}for(r=0,n=arguments.length;r<n;r+=1)arguments[r].forEach(o);return e}function Schema$5(e){this.include=e.include||[],this.implicit=e.implicit||[],this.explicit=e.explicit||[],this.implicit.forEach(function(r){if(r.loadKind&&r.loadKind!=="scalar")throw new YAMLException$2("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=compileList(this,"implicit",[]),this.compiledExplicit=compileList(this,"explicit",[]),this.compiledTypeMap=compileMap(this.compiledImplicit,this.compiledExplicit)}Schema$5.DEFAULT=null;Schema$5.create=function(){var r,n;switch(arguments.length){case 1:r=Schema$5.DEFAULT,n=arguments[0];break;case 2:r=arguments[0],n=arguments[1];break;default:throw new YAMLException$2("Wrong number of arguments for Schema.create function")}if(r=common$4.toArray(r),n=common$4.toArray(n),!r.every(function(o){return o instanceof Schema$5}))throw new YAMLException$2("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!n.every(function(o){return o instanceof Type$g}))throw new YAMLException$2("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new Schema$5({include:r,explicit:n})};var schema=Schema$5,Type$f=type,str=new Type$f("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),Type$e=type,seq=new Type$e("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),Type$d=type,map=new Type$d("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),Schema$4=schema,failsafe=new Schema$4({explicit:[str,seq,map]}),Type$c=type;function resolveYamlNull(e){if(e===null)return!0;var r=e.length;return r===1&&e==="~"||r===4&&(e==="null"||e==="Null"||e==="NULL")}function constructYamlNull(){return null}function isNull(e){return e===null}var _null=new Type$c("tag:yaml.org,2002:null",{kind:"scalar",resolve:resolveYamlNull,construct:constructYamlNull,predicate:isNull,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"}),Type$b=type;function resolveYamlBoolean(e){if(e===null)return!1;var r=e.length;return r===4&&(e==="true"||e==="True"||e==="TRUE")||r===5&&(e==="false"||e==="False"||e==="FALSE")}function constructYamlBoolean(e){return e==="true"||e==="True"||e==="TRUE"}function isBoolean(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var bool$2=new Type$b("tag:yaml.org,2002:bool",{kind:"scalar",resolve:resolveYamlBoolean,construct:constructYamlBoolean,predicate:isBoolean,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"}),common$3=common$6,Type$a=type;function isHexCode(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function isOctCode(e){return 48<=e&&e<=55}function isDecCode(e){return 48<=e&&e<=57}function resolveYamlInteger(e){if(e===null)return!1;var r=e.length,n=0,o=!1,s;if(!r)return!1;if(s=e[n],(s==="-"||s==="+")&&(s=e[++n]),s==="0"){if(n+1===r)return!0;if(s=e[++n],s==="b"){for(n++;n<r;n++)if(s=e[n],s!=="_"){if(s!=="0"&&s!=="1")return!1;o=!0}return o&&s!=="_"}if(s==="x"){for(n++;n<r;n++)if(s=e[n],s!=="_"){if(!isHexCode(e.charCodeAt(n)))return!1;o=!0}return o&&s!=="_"}for(;n<r;n++)if(s=e[n],s!=="_"){if(!isOctCode(e.charCodeAt(n)))return!1;o=!0}return o&&s!=="_"}if(s==="_")return!1;for(;n<r;n++)if(s=e[n],s!=="_"){if(s===":")break;if(!isDecCode(e.charCodeAt(n)))return!1;o=!0}return!o||s==="_"?!1:s!==":"?!0:/^(:[0-5]?[0-9])+$/.test(e.slice(n))}function constructYamlInteger(e){var r=e,n=1,o,s,a=[];return r.indexOf("_")!==-1&&(r=r.replace(/_/g,"")),o=r[0],(o==="-"||o==="+")&&(o==="-"&&(n=-1),r=r.slice(1),o=r[0]),r==="0"?0:o==="0"?r[1]==="b"?n*parseInt(r.slice(2),2):r[1]==="x"?n*parseInt(r,16):n*parseInt(r,8):r.indexOf(":")!==-1?(r.split(":").forEach(function(l){a.unshift(parseInt(l,10))}),r=0,s=1,a.forEach(function(l){r+=l*s,s*=60}),n*r):n*parseInt(r,10)}function isInteger(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!common$3.isNegativeZero(e)}var int=new Type$a("tag:yaml.org,2002:int",{kind:"scalar",resolve:resolveYamlInteger,construct:constructYamlInteger,predicate:isInteger,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0"+e.toString(8):"-0"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),common$2=common$6,Type$9=type,YAML_FLOAT_PATTERN=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function resolveYamlFloat(e){return!(e===null||!YAML_FLOAT_PATTERN.test(e)||e[e.length-1]==="_")}function constructYamlFloat(e){var r,n,o,s;return r=e.replace(/_/g,"").toLowerCase(),n=r[0]==="-"?-1:1,s=[],"+-".indexOf(r[0])>=0&&(r=r.slice(1)),r===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:r===".nan"?NaN:r.indexOf(":")>=0?(r.split(":").forEach(function(a){s.unshift(parseFloat(a,10))}),r=0,o=1,s.forEach(function(a){r+=a*o,o*=60}),n*r):n*parseFloat(r,10)}var SCIENTIFIC_WITHOUT_DOT=/^[-+]?[0-9]+e/;function representYamlFloat(e,r){var n;if(isNaN(e))switch(r){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(r){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(r){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(common$2.isNegativeZero(e))return"-0.0";return n=e.toString(10),SCIENTIFIC_WITHOUT_DOT.test(n)?n.replace("e",".e"):n}function isFloat(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||common$2.isNegativeZero(e))}var float=new Type$9("tag:yaml.org,2002:float",{kind:"scalar",resolve:resolveYamlFloat,construct:constructYamlFloat,predicate:isFloat,represent:representYamlFloat,defaultStyle:"lowercase"}),Schema$3=schema,json=new Schema$3({include:[failsafe],implicit:[_null,bool$2,int,float]}),Schema$2=schema,core=new Schema$2({include:[json]}),Type$8=type,YAML_DATE_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),YAML_TIMESTAMP_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function resolveYamlTimestamp(e){return e===null?!1:YAML_DATE_REGEXP.exec(e)!==null||YAML_TIMESTAMP_REGEXP.exec(e)!==null}function constructYamlTimestamp(e){var r,n,o,s,a,l,c,u=0,f=null,d,h,p;if(r=YAML_DATE_REGEXP.exec(e),r===null&&(r=YAML_TIMESTAMP_REGEXP.exec(e)),r===null)throw new Error("Date resolve error");if(n=+r[1],o=+r[2]-1,s=+r[3],!r[4])return new Date(Date.UTC(n,o,s));if(a=+r[4],l=+r[5],c=+r[6],r[7]){for(u=r[7].slice(0,3);u.length<3;)u+="0";u=+u}return r[9]&&(d=+r[10],h=+(r[11]||0),f=(d*60+h)*6e4,r[9]==="-"&&(f=-f)),p=new Date(Date.UTC(n,o,s,a,l,c,u)),f&&p.setTime(p.getTime()-f),p}function representYamlTimestamp(e){return e.toISOString()}var timestamp=new Type$8("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:resolveYamlTimestamp,construct:constructYamlTimestamp,instanceOf:Date,represent:representYamlTimestamp}),Type$7=type;function resolveYamlMerge(e){return e==="<<"||e===null}var merge=new Type$7("tag:yaml.org,2002:merge",{kind:"scalar",resolve:resolveYamlMerge}),NodeBuffer;try{var _require$1=commonjsRequire;NodeBuffer=_require$1("buffer").Buffer}catch{}var Type$6=type,BASE64_MAP=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function resolveYamlBinary(e){if(e===null)return!1;var r,n,o=0,s=e.length,a=BASE64_MAP;for(n=0;n<s;n++)if(r=a.indexOf(e.charAt(n)),!(r>64)){if(r<0)return!1;o+=6}return o%8===0}function constructYamlBinary(e){var r,n,o=e.replace(/[\r\n=]/g,""),s=o.length,a=BASE64_MAP,l=0,c=[];for(r=0;r<s;r++)r%4===0&&r&&(c.push(l>>16&255),c.push(l>>8&255),c.push(l&255)),l=l<<6|a.indexOf(o.charAt(r));return n=s%4*6,n===0?(c.push(l>>16&255),c.push(l>>8&255),c.push(l&255)):n===18?(c.push(l>>10&255),c.push(l>>2&255)):n===12&&c.push(l>>4&255),NodeBuffer?NodeBuffer.from?NodeBuffer.from(c):new NodeBuffer(c):c}function representYamlBinary(e){var r="",n=0,o,s,a=e.length,l=BASE64_MAP;for(o=0;o<a;o++)o%3===0&&o&&(r+=l[n>>18&63],r+=l[n>>12&63],r+=l[n>>6&63],r+=l[n&63]),n=(n<<8)+e[o];return s=a%3,s===0?(r+=l[n>>18&63],r+=l[n>>12&63],r+=l[n>>6&63],r+=l[n&63]):s===2?(r+=l[n>>10&63],r+=l[n>>4&63],r+=l[n<<2&63],r+=l[64]):s===1&&(r+=l[n>>2&63],r+=l[n<<4&63],r+=l[64],r+=l[64]),r}function isBinary(e){return NodeBuffer&&NodeBuffer.isBuffer(e)}var binary$1=new Type$6("tag:yaml.org,2002:binary",{kind:"scalar",resolve:resolveYamlBinary,construct:constructYamlBinary,predicate:isBinary,represent:representYamlBinary}),Type$5=type,_hasOwnProperty$3=Object.prototype.hasOwnProperty,_toString$2=Object.prototype.toString;function resolveYamlOmap(e){if(e===null)return!0;var r=[],n,o,s,a,l,c=e;for(n=0,o=c.length;n<o;n+=1){if(s=c[n],l=!1,_toString$2.call(s)!=="[object Object]")return!1;for(a in s)if(_hasOwnProperty$3.call(s,a))if(!l)l=!0;else return!1;if(!l)return!1;if(r.indexOf(a)===-1)r.push(a);else return!1}return!0}function constructYamlOmap(e){return e!==null?e:[]}var omap=new Type$5("tag:yaml.org,2002:omap",{kind:"sequence",resolve:resolveYamlOmap,construct:constructYamlOmap}),Type$4=type,_toString$1=Object.prototype.toString;function resolveYamlPairs(e){if(e===null)return!0;var r,n,o,s,a,l=e;for(a=new Array(l.length),r=0,n=l.length;r<n;r+=1){if(o=l[r],_toString$1.call(o)!=="[object Object]"||(s=Object.keys(o),s.length!==1))return!1;a[r]=[s[0],o[s[0]]]}return!0}function constructYamlPairs(e){if(e===null)return[];var r,n,o,s,a,l=e;for(a=new Array(l.length),r=0,n=l.length;r<n;r+=1)o=l[r],s=Object.keys(o),a[r]=[s[0],o[s[0]]];return a}var pairs=new Type$4("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:resolveYamlPairs,construct:constructYamlPairs}),Type$3=type,_hasOwnProperty$2=Object.prototype.hasOwnProperty;function resolveYamlSet(e){if(e===null)return!0;var r,n=e;for(r in n)if(_hasOwnProperty$2.call(n,r)&&n[r]!==null)return!1;return!0}function constructYamlSet(e){return e!==null?e:{}}var set=new Type$3("tag:yaml.org,2002:set",{kind:"mapping",resolve:resolveYamlSet,construct:constructYamlSet}),Schema$1=schema,default_safe=new Schema$1({include:[core],implicit:[timestamp,merge],explicit:[binary$1,omap,pairs,set]}),Type$2=type;function resolveJavascriptUndefined(){return!0}function constructJavascriptUndefined(){}function representJavascriptUndefined(){return""}function isUndefined(e){return typeof e=="undefined"}var _undefined=new Type$2("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:resolveJavascriptUndefined,construct:constructJavascriptUndefined,predicate:isUndefined,represent:representJavascriptUndefined}),Type$1=type;function resolveJavascriptRegExp(e){if(e===null||e.length===0)return!1;var r=e,n=/\/([gim]*)$/.exec(e),o="";return!(r[0]==="/"&&(n&&(o=n[1]),o.length>3||r[r.length-o.length-1]!=="/"))}function constructJavascriptRegExp(e){var r=e,n=/\/([gim]*)$/.exec(e),o="";return r[0]==="/"&&(n&&(o=n[1]),r=r.slice(1,r.length-o.length-1)),new RegExp(r,o)}function representJavascriptRegExp(e){var r="/"+e.source+"/";return e.global&&(r+="g"),e.multiline&&(r+="m"),e.ignoreCase&&(r+="i"),r}function isRegExp(e){return Object.prototype.toString.call(e)==="[object RegExp]"}var regexp=new Type$1("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:resolveJavascriptRegExp,construct:constructJavascriptRegExp,predicate:isRegExp,represent:representJavascriptRegExp}),esprima;try{var _require=commonjsRequire;esprima=_require("esprima")}catch{typeof window!="undefined"&&(esprima=window.esprima)}var Type=type;function resolveJavascriptFunction(e){if(e===null)return!1;try{var r="("+e+")",n=esprima.parse(r,{range:!0});return!(n.type!=="Program"||n.body.length!==1||n.body[0].type!=="ExpressionStatement"||n.body[0].expression.type!=="ArrowFunctionExpression"&&n.body[0].expression.type!=="FunctionExpression")}catch{return!1}}function constructJavascriptFunction(e){var r="("+e+")",n=esprima.parse(r,{range:!0}),o=[],s;if(n.type!=="Program"||n.body.length!==1||n.body[0].type!=="ExpressionStatement"||n.body[0].expression.type!=="ArrowFunctionExpression"&&n.body[0].expression.type!=="FunctionExpression")throw new Error("Failed to resolve function");return n.body[0].expression.params.forEach(function(a){o.push(a.name)}),s=n.body[0].expression.body.range,n.body[0].expression.body.type==="BlockStatement"?new Function(o,r.slice(s[0]+1,s[1]-1)):new Function(o,"return "+r.slice(s[0],s[1]))}function representJavascriptFunction(e){return e.toString()}function isFunction(e){return Object.prototype.toString.call(e)==="[object Function]"}var _function=new Type("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:resolveJavascriptFunction,construct:constructJavascriptFunction,predicate:isFunction,represent:representJavascriptFunction}),Schema=schema,default_full=Schema.DEFAULT=new Schema({include:[default_safe],explicit:[_undefined,regexp,_function]}),common$1=common$6,YAMLException$1=exception,Mark=mark,DEFAULT_SAFE_SCHEMA$1=default_safe,DEFAULT_FULL_SCHEMA$1=default_full,_hasOwnProperty$1=Object.prototype.hasOwnProperty,CONTEXT_FLOW_IN=1,CONTEXT_FLOW_OUT=2,CONTEXT_BLOCK_IN=3,CONTEXT_BLOCK_OUT=4,CHOMPING_CLIP=1,CHOMPING_STRIP=2,CHOMPING_KEEP=3,PATTERN_NON_PRINTABLE=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,PATTERN_NON_ASCII_LINE_BREAKS=/[\x85\u2028\u2029]/,PATTERN_FLOW_INDICATORS=/[,\[\]\{\}]/,PATTERN_TAG_HANDLE=/^(?:!|!!|![a-z\-]+!)$/i,PATTERN_TAG_URI=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _class(e){return Object.prototype.toString.call(e)}function is_EOL(e){return e===10||e===13}function is_WHITE_SPACE(e){return e===9||e===32}function is_WS_OR_EOL(e){return e===9||e===32||e===10||e===13}function is_FLOW_INDICATOR(e){return e===44||e===91||e===93||e===123||e===125}function fromHexCode(e){var r;return 48<=e&&e<=57?e-48:(r=e|32,97<=r&&r<=102?r-97+10:-1)}function escapedHexLen(e){return e===120?2:e===117?4:e===85?8:0}function fromDecimalCode(e){return 48<=e&&e<=57?e-48:-1}function simpleEscapeSequence(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function charFromCodepoint(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var simpleEscapeCheck=new Array(256),simpleEscapeMap=new Array(256);for(var i=0;i<256;i++)simpleEscapeCheck[i]=simpleEscapeSequence(i)?1:0,simpleEscapeMap[i]=simpleEscapeSequence(i);function State$1(e,r){this.input=e,this.filename=r.filename||null,this.schema=r.schema||DEFAULT_FULL_SCHEMA$1,this.onWarning=r.onWarning||null,this.legacy=r.legacy||!1,this.json=r.json||!1,this.listener=r.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function generateError(e,r){return new YAMLException$1(r,new Mark(e.filename,e.input,e.position,e.line,e.position-e.lineStart))}function throwError(e,r){throw generateError(e,r)}function throwWarning(e,r){e.onWarning&&e.onWarning.call(null,generateError(e,r))}var directiveHandlers={YAML:function(r,n,o){var s,a,l;r.version!==null&&throwError(r,"duplication of %YAML directive"),o.length!==1&&throwError(r,"YAML directive accepts exactly one argument"),s=/^([0-9]+)\.([0-9]+)$/.exec(o[0]),s===null&&throwError(r,"ill-formed argument of the YAML directive"),a=parseInt(s[1],10),l=parseInt(s[2],10),a!==1&&throwError(r,"unacceptable YAML version of the document"),r.version=o[0],r.checkLineBreaks=l<2,l!==1&&l!==2&&throwWarning(r,"unsupported YAML version of the document")},TAG:function(r,n,o){var s,a;o.length!==2&&throwError(r,"TAG directive accepts exactly two arguments"),s=o[0],a=o[1],PATTERN_TAG_HANDLE.test(s)||throwError(r,"ill-formed tag handle (first argument) of the TAG directive"),_hasOwnProperty$1.call(r.tagMap,s)&&throwError(r,'there is a previously declared suffix for "'+s+'" tag handle'),PATTERN_TAG_URI.test(a)||throwError(r,"ill-formed tag prefix (second argument) of the TAG directive"),r.tagMap[s]=a}};function captureSegment(e,r,n,o){var s,a,l,c;if(r<n){if(c=e.input.slice(r,n),o)for(s=0,a=c.length;s<a;s+=1)l=c.charCodeAt(s),l===9||32<=l&&l<=1114111||throwError(e,"expected valid JSON character");else PATTERN_NON_PRINTABLE.test(c)&&throwError(e,"the stream contains non-printable characters");e.result+=c}}function mergeMappings(e,r,n,o){var s,a,l,c;for(common$1.isObject(n)||throwError(e,"cannot merge mappings; the provided source object is unacceptable"),s=Object.keys(n),l=0,c=s.length;l<c;l+=1)a=s[l],_hasOwnProperty$1.call(r,a)||(r[a]=n[a],o[a]=!0)}function storeMappingPair(e,r,n,o,s,a,l,c){var u,f;if(Array.isArray(s))for(s=Array.prototype.slice.call(s),u=0,f=s.length;u<f;u+=1)Array.isArray(s[u])&&throwError(e,"nested arrays are not supported inside keys"),typeof s=="object"&&_class(s[u])==="[object Object]"&&(s[u]="[object Object]");if(typeof s=="object"&&_class(s)==="[object Object]"&&(s="[object Object]"),s=String(s),r===null&&(r={}),o==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(u=0,f=a.length;u<f;u+=1)mergeMappings(e,r,a[u],n);else mergeMappings(e,r,a,n);else!e.json&&!_hasOwnProperty$1.call(n,s)&&_hasOwnProperty$1.call(r,s)&&(e.line=l||e.line,e.position=c||e.position,throwError(e,"duplicated mapping key")),r[s]=a,delete n[s];return r}function readLineBreak(e){var r;r=e.input.charCodeAt(e.position),r===10?e.position++:r===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):throwError(e,"a line break is expected"),e.line+=1,e.lineStart=e.position}function skipSeparationSpace(e,r,n){for(var o=0,s=e.input.charCodeAt(e.position);s!==0;){for(;is_WHITE_SPACE(s);)s=e.input.charCodeAt(++e.position);if(r&&s===35)do s=e.input.charCodeAt(++e.position);while(s!==10&&s!==13&&s!==0);if(is_EOL(s))for(readLineBreak(e),s=e.input.charCodeAt(e.position),o++,e.lineIndent=0;s===32;)e.lineIndent++,s=e.input.charCodeAt(++e.position);else break}return n!==-1&&o!==0&&e.lineIndent<n&&throwWarning(e,"deficient indentation"),o}function testDocumentSeparator(e){var r=e.position,n;return n=e.input.charCodeAt(r),!!((n===45||n===46)&&n===e.input.charCodeAt(r+1)&&n===e.input.charCodeAt(r+2)&&(r+=3,n=e.input.charCodeAt(r),n===0||is_WS_OR_EOL(n)))}function writeFoldedLines(e,r){r===1?e.result+=" ":r>1&&(e.result+=common$1.repeat(`
`,r-1))}function readPlainScalar(e,r,n){var o,s,a,l,c,u,f,d,h=e.kind,p=e.result,m;if(m=e.input.charCodeAt(e.position),is_WS_OR_EOL(m)||is_FLOW_INDICATOR(m)||m===35||m===38||m===42||m===33||m===124||m===62||m===39||m===34||m===37||m===64||m===96||(m===63||m===45)&&(s=e.input.charCodeAt(e.position+1),is_WS_OR_EOL(s)||n&&is_FLOW_INDICATOR(s)))return!1;for(e.kind="scalar",e.result="",a=l=e.position,c=!1;m!==0;){if(m===58){if(s=e.input.charCodeAt(e.position+1),is_WS_OR_EOL(s)||n&&is_FLOW_INDICATOR(s))break}else if(m===35){if(o=e.input.charCodeAt(e.position-1),is_WS_OR_EOL(o))break}else{if(e.position===e.lineStart&&testDocumentSeparator(e)||n&&is_FLOW_INDICATOR(m))break;if(is_EOL(m))if(u=e.line,f=e.lineStart,d=e.lineIndent,skipSeparationSpace(e,!1,-1),e.lineIndent>=r){c=!0,m=e.input.charCodeAt(e.position);continue}else{e.position=l,e.line=u,e.lineStart=f,e.lineIndent=d;break}}c&&(captureSegment(e,a,l,!1),writeFoldedLines(e,e.line-u),a=l=e.position,c=!1),is_WHITE_SPACE(m)||(l=e.position+1),m=e.input.charCodeAt(++e.position)}return captureSegment(e,a,l,!1),e.result?!0:(e.kind=h,e.result=p,!1)}function readSingleQuotedScalar(e,r){var n,o,s;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,o=s=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(captureSegment(e,o,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)o=e.position,e.position++,s=e.position;else return!0;else is_EOL(n)?(captureSegment(e,o,s,!0),writeFoldedLines(e,skipSeparationSpace(e,!1,r)),o=s=e.position):e.position===e.lineStart&&testDocumentSeparator(e)?throwError(e,"unexpected end of the document within a single quoted scalar"):(e.position++,s=e.position);throwError(e,"unexpected end of the stream within a single quoted scalar")}function readDoubleQuotedScalar(e,r){var n,o,s,a,l,c;if(c=e.input.charCodeAt(e.position),c!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=o=e.position;(c=e.input.charCodeAt(e.position))!==0;){if(c===34)return captureSegment(e,n,e.position,!0),e.position++,!0;if(c===92){if(captureSegment(e,n,e.position,!0),c=e.input.charCodeAt(++e.position),is_EOL(c))skipSeparationSpace(e,!1,r);else if(c<256&&simpleEscapeCheck[c])e.result+=simpleEscapeMap[c],e.position++;else if((l=escapedHexLen(c))>0){for(s=l,a=0;s>0;s--)c=e.input.charCodeAt(++e.position),(l=fromHexCode(c))>=0?a=(a<<4)+l:throwError(e,"expected hexadecimal character");e.result+=charFromCodepoint(a),e.position++}else throwError(e,"unknown escape sequence");n=o=e.position}else is_EOL(c)?(captureSegment(e,n,o,!0),writeFoldedLines(e,skipSeparationSpace(e,!1,r)),n=o=e.position):e.position===e.lineStart&&testDocumentSeparator(e)?throwError(e,"unexpected end of the document within a double quoted scalar"):(e.position++,o=e.position)}throwError(e,"unexpected end of the stream within a double quoted scalar")}function readFlowCollection(e,r){var n=!0,o,s=e.tag,a,l=e.anchor,c,u,f,d,h,p={},m,$,v,g;if(g=e.input.charCodeAt(e.position),g===91)u=93,h=!1,a=[];else if(g===123)u=125,h=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),g=e.input.charCodeAt(++e.position);g!==0;){if(skipSeparationSpace(e,!0,r),g=e.input.charCodeAt(e.position),g===u)return e.position++,e.tag=s,e.anchor=l,e.kind=h?"mapping":"sequence",e.result=a,!0;n||throwError(e,"missed comma between flow collection entries"),$=m=v=null,f=d=!1,g===63&&(c=e.input.charCodeAt(e.position+1),is_WS_OR_EOL(c)&&(f=d=!0,e.position++,skipSeparationSpace(e,!0,r))),o=e.line,composeNode(e,r,CONTEXT_FLOW_IN,!1,!0),$=e.tag,m=e.result,skipSeparationSpace(e,!0,r),g=e.input.charCodeAt(e.position),(d||e.line===o)&&g===58&&(f=!0,g=e.input.charCodeAt(++e.position),skipSeparationSpace(e,!0,r),composeNode(e,r,CONTEXT_FLOW_IN,!1,!0),v=e.result),h?storeMappingPair(e,a,p,$,m,v):f?a.push(storeMappingPair(e,null,p,$,m,v)):a.push(m),skipSeparationSpace(e,!0,r),g=e.input.charCodeAt(e.position),g===44?(n=!0,g=e.input.charCodeAt(++e.position)):n=!1}throwError(e,"unexpected end of the stream within a flow collection")}function readBlockScalar(e,r){var n,o,s=CHOMPING_CLIP,a=!1,l=!1,c=r,u=0,f=!1,d,h;if(h=e.input.charCodeAt(e.position),h===124)o=!1;else if(h===62)o=!0;else return!1;for(e.kind="scalar",e.result="";h!==0;)if(h=e.input.charCodeAt(++e.position),h===43||h===45)CHOMPING_CLIP===s?s=h===43?CHOMPING_KEEP:CHOMPING_STRIP:throwError(e,"repeat of a chomping mode identifier");else if((d=fromDecimalCode(h))>=0)d===0?throwError(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?throwError(e,"repeat of an indentation width identifier"):(c=r+d-1,l=!0);else break;if(is_WHITE_SPACE(h)){do h=e.input.charCodeAt(++e.position);while(is_WHITE_SPACE(h));if(h===35)do h=e.input.charCodeAt(++e.position);while(!is_EOL(h)&&h!==0)}for(;h!==0;){for(readLineBreak(e),e.lineIndent=0,h=e.input.charCodeAt(e.position);(!l||e.lineIndent<c)&&h===32;)e.lineIndent++,h=e.input.charCodeAt(++e.position);if(!l&&e.lineIndent>c&&(c=e.lineIndent),is_EOL(h)){u++;continue}if(e.lineIndent<c){s===CHOMPING_KEEP?e.result+=common$1.repeat(`
`,a?1+u:u):s===CHOMPING_CLIP&&a&&(e.result+=`
`);break}for(o?is_WHITE_SPACE(h)?(f=!0,e.result+=common$1.repeat(`
`,a?1+u:u)):f?(f=!1,e.result+=common$1.repeat(`
`,u+1)):u===0?a&&(e.result+=" "):e.result+=common$1.repeat(`
`,u):e.result+=common$1.repeat(`
`,a?1+u:u),a=!0,l=!0,u=0,n=e.position;!is_EOL(h)&&h!==0;)h=e.input.charCodeAt(++e.position);captureSegment(e,n,e.position,!1)}return!0}function readBlockSequence(e,r){var n,o=e.tag,s=e.anchor,a=[],l,c=!1,u;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),u=e.input.charCodeAt(e.position);u!==0&&!(u!==45||(l=e.input.charCodeAt(e.position+1),!is_WS_OR_EOL(l)));){if(c=!0,e.position++,skipSeparationSpace(e,!0,-1)&&e.lineIndent<=r){a.push(null),u=e.input.charCodeAt(e.position);continue}if(n=e.line,composeNode(e,r,CONTEXT_BLOCK_IN,!1,!0),a.push(e.result),skipSeparationSpace(e,!0,-1),u=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>r)&&u!==0)throwError(e,"bad indentation of a sequence entry");else if(e.lineIndent<r)break}return c?(e.tag=o,e.anchor=s,e.kind="sequence",e.result=a,!0):!1}function readBlockMapping(e,r,n){var o,s,a,l,c=e.tag,u=e.anchor,f={},d={},h=null,p=null,m=null,$=!1,v=!1,g;for(e.anchor!==null&&(e.anchorMap[e.anchor]=f),g=e.input.charCodeAt(e.position);g!==0;){if(o=e.input.charCodeAt(e.position+1),a=e.line,l=e.position,(g===63||g===58)&&is_WS_OR_EOL(o))g===63?($&&(storeMappingPair(e,f,d,h,p,null),h=p=m=null),v=!0,$=!0,s=!0):$?($=!1,s=!0):throwError(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,g=o;else if(composeNode(e,n,CONTEXT_FLOW_OUT,!1,!0))if(e.line===a){for(g=e.input.charCodeAt(e.position);is_WHITE_SPACE(g);)g=e.input.charCodeAt(++e.position);if(g===58)g=e.input.charCodeAt(++e.position),is_WS_OR_EOL(g)||throwError(e,"a whitespace character is expected after the key-value separator within a block mapping"),$&&(storeMappingPair(e,f,d,h,p,null),h=p=m=null),v=!0,$=!1,s=!1,h=e.tag,p=e.result;else if(v)throwError(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=u,!0}else if(v)throwError(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=u,!0;else break;if((e.line===a||e.lineIndent>r)&&(composeNode(e,r,CONTEXT_BLOCK_OUT,!0,s)&&($?p=e.result:m=e.result),$||(storeMappingPair(e,f,d,h,p,m,a,l),h=p=m=null),skipSeparationSpace(e,!0,-1),g=e.input.charCodeAt(e.position)),e.lineIndent>r&&g!==0)throwError(e,"bad indentation of a mapping entry");else if(e.lineIndent<r)break}return $&&storeMappingPair(e,f,d,h,p,null),v&&(e.tag=c,e.anchor=u,e.kind="mapping",e.result=f),v}function readTagProperty(e){var r,n=!1,o=!1,s,a,l;if(l=e.input.charCodeAt(e.position),l!==33)return!1;if(e.tag!==null&&throwError(e,"duplication of a tag property"),l=e.input.charCodeAt(++e.position),l===60?(n=!0,l=e.input.charCodeAt(++e.position)):l===33?(o=!0,s="!!",l=e.input.charCodeAt(++e.position)):s="!",r=e.position,n){do l=e.input.charCodeAt(++e.position);while(l!==0&&l!==62);e.position<e.length?(a=e.input.slice(r,e.position),l=e.input.charCodeAt(++e.position)):throwError(e,"unexpected end of the stream within a verbatim tag")}else{for(;l!==0&&!is_WS_OR_EOL(l);)l===33&&(o?throwError(e,"tag suffix cannot contain exclamation marks"):(s=e.input.slice(r-1,e.position+1),PATTERN_TAG_HANDLE.test(s)||throwError(e,"named tag handle cannot contain such characters"),o=!0,r=e.position+1)),l=e.input.charCodeAt(++e.position);a=e.input.slice(r,e.position),PATTERN_FLOW_INDICATORS.test(a)&&throwError(e,"tag suffix cannot contain flow indicator characters")}return a&&!PATTERN_TAG_URI.test(a)&&throwError(e,"tag name cannot contain such characters: "+a),n?e.tag=a:_hasOwnProperty$1.call(e.tagMap,s)?e.tag=e.tagMap[s]+a:s==="!"?e.tag="!"+a:s==="!!"?e.tag="tag:yaml.org,2002:"+a:throwError(e,'undeclared tag handle "'+s+'"'),!0}function readAnchorProperty(e){var r,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&throwError(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),r=e.position;n!==0&&!is_WS_OR_EOL(n)&&!is_FLOW_INDICATOR(n);)n=e.input.charCodeAt(++e.position);return e.position===r&&throwError(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(r,e.position),!0}function readAlias(e){var r,n,o;if(o=e.input.charCodeAt(e.position),o!==42)return!1;for(o=e.input.charCodeAt(++e.position),r=e.position;o!==0&&!is_WS_OR_EOL(o)&&!is_FLOW_INDICATOR(o);)o=e.input.charCodeAt(++e.position);return e.position===r&&throwError(e,"name of an alias node must contain at least one character"),n=e.input.slice(r,e.position),_hasOwnProperty$1.call(e.anchorMap,n)||throwError(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],skipSeparationSpace(e,!0,-1),!0}function composeNode(e,r,n,o,s){var a,l,c,u=1,f=!1,d=!1,h,p,m,$,v;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=l=c=CONTEXT_BLOCK_OUT===n||CONTEXT_BLOCK_IN===n,o&&skipSeparationSpace(e,!0,-1)&&(f=!0,e.lineIndent>r?u=1:e.lineIndent===r?u=0:e.lineIndent<r&&(u=-1)),u===1)for(;readTagProperty(e)||readAnchorProperty(e);)skipSeparationSpace(e,!0,-1)?(f=!0,c=a,e.lineIndent>r?u=1:e.lineIndent===r?u=0:e.lineIndent<r&&(u=-1)):c=!1;if(c&&(c=f||s),(u===1||CONTEXT_BLOCK_OUT===n)&&(CONTEXT_FLOW_IN===n||CONTEXT_FLOW_OUT===n?$=r:$=r+1,v=e.position-e.lineStart,u===1?c&&(readBlockSequence(e,v)||readBlockMapping(e,v,$))||readFlowCollection(e,$)?d=!0:(l&&readBlockScalar(e,$)||readSingleQuotedScalar(e,$)||readDoubleQuotedScalar(e,$)?d=!0:readAlias(e)?(d=!0,(e.tag!==null||e.anchor!==null)&&throwError(e,"alias node should not have any properties")):readPlainScalar(e,$,CONTEXT_FLOW_IN===n)&&(d=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):u===0&&(d=c&&readBlockSequence(e,v))),e.tag!==null&&e.tag!=="!")if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&throwError(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),h=0,p=e.implicitTypes.length;h<p;h+=1)if(m=e.implicitTypes[h],m.resolve(e.result)){e.result=m.construct(e.result),e.tag=m.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else _hasOwnProperty$1.call(e.typeMap[e.kind||"fallback"],e.tag)?(m=e.typeMap[e.kind||"fallback"][e.tag],e.result!==null&&m.kind!==e.kind&&throwError(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+m.kind+'", not "'+e.kind+'"'),m.resolve(e.result)?(e.result=m.construct(e.result),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):throwError(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")):throwError(e,"unknown tag !<"+e.tag+">");return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||d}function readDocument(e){var r=e.position,n,o,s,a=!1,l;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap={},e.anchorMap={};(l=e.input.charCodeAt(e.position))!==0&&(skipSeparationSpace(e,!0,-1),l=e.input.charCodeAt(e.position),!(e.lineIndent>0||l!==37));){for(a=!0,l=e.input.charCodeAt(++e.position),n=e.position;l!==0&&!is_WS_OR_EOL(l);)l=e.input.charCodeAt(++e.position);for(o=e.input.slice(n,e.position),s=[],o.length<1&&throwError(e,"directive name must not be less than one character in length");l!==0;){for(;is_WHITE_SPACE(l);)l=e.input.charCodeAt(++e.position);if(l===35){do l=e.input.charCodeAt(++e.position);while(l!==0&&!is_EOL(l));break}if(is_EOL(l))break;for(n=e.position;l!==0&&!is_WS_OR_EOL(l);)l=e.input.charCodeAt(++e.position);s.push(e.input.slice(n,e.position))}l!==0&&readLineBreak(e),_hasOwnProperty$1.call(directiveHandlers,o)?directiveHandlers[o](e,o,s):throwWarning(e,'unknown document directive "'+o+'"')}if(skipSeparationSpace(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,skipSeparationSpace(e,!0,-1)):a&&throwError(e,"directives end mark is expected"),composeNode(e,e.lineIndent-1,CONTEXT_BLOCK_OUT,!1,!0),skipSeparationSpace(e,!0,-1),e.checkLineBreaks&&PATTERN_NON_ASCII_LINE_BREAKS.test(e.input.slice(r,e.position))&&throwWarning(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&testDocumentSeparator(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,skipSeparationSpace(e,!0,-1));return}if(e.position<e.length-1)throwError(e,"end of the stream or a document separator is expected");else return}function loadDocuments(e,r){e=String(e),r=r||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new State$1(e,r),o=e.indexOf("\0");for(o!==-1&&(n.position=o,throwError(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)readDocument(n);return n.documents}function loadAll(e,r,n){r!==null&&typeof r=="object"&&typeof n=="undefined"&&(n=r,r=null);var o=loadDocuments(e,n);if(typeof r!="function")return o;for(var s=0,a=o.length;s<a;s+=1)r(o[s])}function load(e,r){var n=loadDocuments(e,r);if(n.length!==0){if(n.length===1)return n[0];throw new YAMLException$1("expected a single document in the stream, but found more")}}function safeLoadAll(e,r,n){return typeof r=="object"&&r!==null&&typeof n=="undefined"&&(n=r,r=null),loadAll(e,r,common$1.extend({schema:DEFAULT_SAFE_SCHEMA$1},n))}function safeLoad(e,r){return load(e,common$1.extend({schema:DEFAULT_SAFE_SCHEMA$1},r))}loader$1.loadAll=loadAll;loader$1.load=load;loader$1.safeLoadAll=safeLoadAll;loader$1.safeLoad=safeLoad;var dumper$1={},common=common$6,YAMLException=exception,DEFAULT_FULL_SCHEMA=default_full,DEFAULT_SAFE_SCHEMA=default_safe,_toString=Object.prototype.toString,_hasOwnProperty=Object.prototype.hasOwnProperty,CHAR_TAB=9,CHAR_LINE_FEED=10,CHAR_CARRIAGE_RETURN=13,CHAR_SPACE=32,CHAR_EXCLAMATION=33,CHAR_DOUBLE_QUOTE=34,CHAR_SHARP=35,CHAR_PERCENT=37,CHAR_AMPERSAND=38,CHAR_SINGLE_QUOTE=39,CHAR_ASTERISK=42,CHAR_COMMA=44,CHAR_MINUS=45,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_GREATER_THAN=62,CHAR_QUESTION=63,CHAR_COMMERCIAL_AT=64,CHAR_LEFT_SQUARE_BRACKET=91,CHAR_RIGHT_SQUARE_BRACKET=93,CHAR_GRAVE_ACCENT=96,CHAR_LEFT_CURLY_BRACKET=123,CHAR_VERTICAL_LINE=124,CHAR_RIGHT_CURLY_BRACKET=125,ESCAPE_SEQUENCES={};ESCAPE_SEQUENCES[0]="\\0";ESCAPE_SEQUENCES[7]="\\a";ESCAPE_SEQUENCES[8]="\\b";ESCAPE_SEQUENCES[9]="\\t";ESCAPE_SEQUENCES[10]="\\n";ESCAPE_SEQUENCES[11]="\\v";ESCAPE_SEQUENCES[12]="\\f";ESCAPE_SEQUENCES[13]="\\r";ESCAPE_SEQUENCES[27]="\\e";ESCAPE_SEQUENCES[34]='\\"';ESCAPE_SEQUENCES[92]="\\\\";ESCAPE_SEQUENCES[133]="\\N";ESCAPE_SEQUENCES[160]="\\_";ESCAPE_SEQUENCES[8232]="\\L";ESCAPE_SEQUENCES[8233]="\\P";var DEPRECATED_BOOLEANS_SYNTAX=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function compileStyleMap(e,r){var n,o,s,a,l,c,u;if(r===null)return{};for(n={},o=Object.keys(r),s=0,a=o.length;s<a;s+=1)l=o[s],c=String(r[l]),l.slice(0,2)==="!!"&&(l="tag:yaml.org,2002:"+l.slice(2)),u=e.compiledTypeMap.fallback[l],u&&_hasOwnProperty.call(u.styleAliases,c)&&(c=u.styleAliases[c]),n[l]=c;return n}function encodeHex(e){var r,n,o;if(r=e.toString(16).toUpperCase(),e<=255)n="x",o=2;else if(e<=65535)n="u",o=4;else if(e<=4294967295)n="U",o=8;else throw new YAMLException("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+common.repeat("0",o-r.length)+r}function State(e){this.schema=e.schema||DEFAULT_FULL_SCHEMA,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=common.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=compileStyleMap(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function indentString(e,r){for(var n=common.repeat(" ",r),o=0,s=-1,a="",l,c=e.length;o<c;)s=e.indexOf(`
`,o),s===-1?(l=e.slice(o),o=c):(l=e.slice(o,s+1),o=s+1),l.length&&l!==`
`&&(a+=n),a+=l;return a}function generateNextLine(e,r){return`
`+common.repeat(" ",e.indent*r)}function testImplicitResolving(e,r){var n,o,s;for(n=0,o=e.implicitTypes.length;n<o;n+=1)if(s=e.implicitTypes[n],s.resolve(r))return!0;return!1}function isWhitespace(e){return e===CHAR_SPACE||e===CHAR_TAB}function isPrintable(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==65279||65536<=e&&e<=1114111}function isNsChar(e){return isPrintable(e)&&!isWhitespace(e)&&e!==65279&&e!==CHAR_CARRIAGE_RETURN&&e!==CHAR_LINE_FEED}function isPlainSafe(e,r){return isPrintable(e)&&e!==65279&&e!==CHAR_COMMA&&e!==CHAR_LEFT_SQUARE_BRACKET&&e!==CHAR_RIGHT_SQUARE_BRACKET&&e!==CHAR_LEFT_CURLY_BRACKET&&e!==CHAR_RIGHT_CURLY_BRACKET&&e!==CHAR_COLON&&(e!==CHAR_SHARP||r&&isNsChar(r))}function isPlainSafeFirst(e){return isPrintable(e)&&e!==65279&&!isWhitespace(e)&&e!==CHAR_MINUS&&e!==CHAR_QUESTION&&e!==CHAR_COLON&&e!==CHAR_COMMA&&e!==CHAR_LEFT_SQUARE_BRACKET&&e!==CHAR_RIGHT_SQUARE_BRACKET&&e!==CHAR_LEFT_CURLY_BRACKET&&e!==CHAR_RIGHT_CURLY_BRACKET&&e!==CHAR_SHARP&&e!==CHAR_AMPERSAND&&e!==CHAR_ASTERISK&&e!==CHAR_EXCLAMATION&&e!==CHAR_VERTICAL_LINE&&e!==CHAR_EQUALS&&e!==CHAR_GREATER_THAN&&e!==CHAR_SINGLE_QUOTE&&e!==CHAR_DOUBLE_QUOTE&&e!==CHAR_PERCENT&&e!==CHAR_COMMERCIAL_AT&&e!==CHAR_GRAVE_ACCENT}function needIndentIndicator(e){var r=/^\n* /;return r.test(e)}var STYLE_PLAIN=1,STYLE_SINGLE=2,STYLE_LITERAL=3,STYLE_FOLDED=4,STYLE_DOUBLE=5;function chooseScalarStyle(e,r,n,o,s){var a,l,c,u=!1,f=!1,d=o!==-1,h=-1,p=isPlainSafeFirst(e.charCodeAt(0))&&!isWhitespace(e.charCodeAt(e.length-1));if(r)for(a=0;a<e.length;a++){if(l=e.charCodeAt(a),!isPrintable(l))return STYLE_DOUBLE;c=a>0?e.charCodeAt(a-1):null,p=p&&isPlainSafe(l,c)}else{for(a=0;a<e.length;a++){if(l=e.charCodeAt(a),l===CHAR_LINE_FEED)u=!0,d&&(f=f||a-h-1>o&&e[h+1]!==" ",h=a);else if(!isPrintable(l))return STYLE_DOUBLE;c=a>0?e.charCodeAt(a-1):null,p=p&&isPlainSafe(l,c)}f=f||d&&a-h-1>o&&e[h+1]!==" "}return!u&&!f?p&&!s(e)?STYLE_PLAIN:STYLE_SINGLE:n>9&&needIndentIndicator(e)?STYLE_DOUBLE:f?STYLE_FOLDED:STYLE_LITERAL}function writeScalar(e,r,n,o){e.dump=function(){if(r.length===0)return"''";if(!e.noCompatMode&&DEPRECATED_BOOLEANS_SYNTAX.indexOf(r)!==-1)return"'"+r+"'";var s=e.indent*Math.max(1,n),a=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),l=o||e.flowLevel>-1&&n>=e.flowLevel;function c(u){return testImplicitResolving(e,u)}switch(chooseScalarStyle(r,l,e.indent,a,c)){case STYLE_PLAIN:return r;case STYLE_SINGLE:return"'"+r.replace(/'/g,"''")+"'";case STYLE_LITERAL:return"|"+blockHeader(r,e.indent)+dropEndingNewline(indentString(r,s));case STYLE_FOLDED:return">"+blockHeader(r,e.indent)+dropEndingNewline(indentString(foldString(r,a),s));case STYLE_DOUBLE:return'"'+escapeString(r)+'"';default:throw new YAMLException("impossible error: invalid scalar style")}}()}function blockHeader(e,r){var n=needIndentIndicator(e)?String(r):"",o=e[e.length-1]===`
`,s=o&&(e[e.length-2]===`
`||e===`
`),a=s?"+":o?"":"-";return n+a+`
`}function dropEndingNewline(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function foldString(e,r){for(var n=/(\n+)([^\n]*)/g,o=function(){var f=e.indexOf(`
`);return f=f!==-1?f:e.length,n.lastIndex=f,foldLine(e.slice(0,f),r)}(),s=e[0]===`
`||e[0]===" ",a,l;l=n.exec(e);){var c=l[1],u=l[2];a=u[0]===" ",o+=c+(!s&&!a&&u!==""?`
`:"")+foldLine(u,r),s=a}return o}function foldLine(e,r){if(e===""||e[0]===" ")return e;for(var n=/ [^ ]/g,o,s=0,a,l=0,c=0,u="";o=n.exec(e);)c=o.index,c-s>r&&(a=l>s?l:c,u+=`
`+e.slice(s,a),s=a+1),l=c;return u+=`
`,e.length-s>r&&l>s?u+=e.slice(s,l)+`
`+e.slice(l+1):u+=e.slice(s),u.slice(1)}function escapeString(e){for(var r="",n,o,s,a=0;a<e.length;a++){if(n=e.charCodeAt(a),n>=55296&&n<=56319&&(o=e.charCodeAt(a+1),o>=56320&&o<=57343)){r+=encodeHex((n-55296)*1024+o-56320+65536),a++;continue}s=ESCAPE_SEQUENCES[n],r+=!s&&isPrintable(n)?e[a]:s||encodeHex(n)}return r}function writeFlowSequence(e,r,n){var o="",s=e.tag,a,l;for(a=0,l=n.length;a<l;a+=1)writeNode(e,r,n[a],!1,!1)&&(a!==0&&(o+=","+(e.condenseFlow?"":" ")),o+=e.dump);e.tag=s,e.dump="["+o+"]"}function writeBlockSequence(e,r,n,o){var s="",a=e.tag,l,c;for(l=0,c=n.length;l<c;l+=1)writeNode(e,r+1,n[l],!0,!0)&&((!o||l!==0)&&(s+=generateNextLine(e,r)),e.dump&&CHAR_LINE_FEED===e.dump.charCodeAt(0)?s+="-":s+="- ",s+=e.dump);e.tag=a,e.dump=s||"[]"}function writeFlowMapping(e,r,n){var o="",s=e.tag,a=Object.keys(n),l,c,u,f,d;for(l=0,c=a.length;l<c;l+=1)d="",l!==0&&(d+=", "),e.condenseFlow&&(d+='"'),u=a[l],f=n[u],writeNode(e,r,u,!1,!1)&&(e.dump.length>1024&&(d+="? "),d+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),writeNode(e,r,f,!1,!1)&&(d+=e.dump,o+=d));e.tag=s,e.dump="{"+o+"}"}function writeBlockMapping(e,r,n,o){var s="",a=e.tag,l=Object.keys(n),c,u,f,d,h,p;if(e.sortKeys===!0)l.sort();else if(typeof e.sortKeys=="function")l.sort(e.sortKeys);else if(e.sortKeys)throw new YAMLException("sortKeys must be a boolean or a function");for(c=0,u=l.length;c<u;c+=1)p="",(!o||c!==0)&&(p+=generateNextLine(e,r)),f=l[c],d=n[f],writeNode(e,r+1,f,!0,!0,!0)&&(h=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,h&&(e.dump&&CHAR_LINE_FEED===e.dump.charCodeAt(0)?p+="?":p+="? "),p+=e.dump,h&&(p+=generateNextLine(e,r)),writeNode(e,r+1,d,!0,h)&&(e.dump&&CHAR_LINE_FEED===e.dump.charCodeAt(0)?p+=":":p+=": ",p+=e.dump,s+=p));e.tag=a,e.dump=s||"{}"}function detectType(e,r,n){var o,s,a,l,c,u;for(s=n?e.explicitTypes:e.implicitTypes,a=0,l=s.length;a<l;a+=1)if(c=s[a],(c.instanceOf||c.predicate)&&(!c.instanceOf||typeof r=="object"&&r instanceof c.instanceOf)&&(!c.predicate||c.predicate(r))){if(e.tag=n?c.tag:"?",c.represent){if(u=e.styleMap[c.tag]||c.defaultStyle,_toString.call(c.represent)==="[object Function]")o=c.represent(r,u);else if(_hasOwnProperty.call(c.represent,u))o=c.represent[u](r,u);else throw new YAMLException("!<"+c.tag+'> tag resolver accepts not "'+u+'" style');e.dump=o}return!0}return!1}function writeNode(e,r,n,o,s,a){e.tag=null,e.dump=n,detectType(e,n,!1)||detectType(e,n,!0);var l=_toString.call(e.dump);o&&(o=e.flowLevel<0||e.flowLevel>r);var c=l==="[object Object]"||l==="[object Array]",u,f;if(c&&(u=e.duplicates.indexOf(n),f=u!==-1),(e.tag!==null&&e.tag!=="?"||f||e.indent!==2&&r>0)&&(s=!1),f&&e.usedDuplicates[u])e.dump="*ref_"+u;else{if(c&&f&&!e.usedDuplicates[u]&&(e.usedDuplicates[u]=!0),l==="[object Object]")o&&Object.keys(e.dump).length!==0?(writeBlockMapping(e,r,e.dump,s),f&&(e.dump="&ref_"+u+e.dump)):(writeFlowMapping(e,r,e.dump),f&&(e.dump="&ref_"+u+" "+e.dump));else if(l==="[object Array]"){var d=e.noArrayIndent&&r>0?r-1:r;o&&e.dump.length!==0?(writeBlockSequence(e,d,e.dump,s),f&&(e.dump="&ref_"+u+e.dump)):(writeFlowSequence(e,d,e.dump),f&&(e.dump="&ref_"+u+" "+e.dump))}else if(l==="[object String]")e.tag!=="?"&&writeScalar(e,e.dump,r,a);else{if(e.skipInvalid)return!1;throw new YAMLException("unacceptable kind of an object to dump "+l)}e.tag!==null&&e.tag!=="?"&&(e.dump="!<"+e.tag+"> "+e.dump)}return!0}function getDuplicateReferences(e,r){var n=[],o=[],s,a;for(inspectNode(e,n,o),s=0,a=o.length;s<a;s+=1)r.duplicates.push(n[o[s]]);r.usedDuplicates=new Array(a)}function inspectNode(e,r,n){var o,s,a;if(e!==null&&typeof e=="object")if(s=r.indexOf(e),s!==-1)n.indexOf(s)===-1&&n.push(s);else if(r.push(e),Array.isArray(e))for(s=0,a=e.length;s<a;s+=1)inspectNode(e[s],r,n);else for(o=Object.keys(e),s=0,a=o.length;s<a;s+=1)inspectNode(e[o[s]],r,n)}function dump(e,r){r=r||{};var n=new State(r);return n.noRefs||getDuplicateReferences(e,n),writeNode(n,0,e,!0,!0)?n.dump+`
`:""}function safeDump(e,r){return dump(e,common.extend({schema:DEFAULT_SAFE_SCHEMA},r))}dumper$1.dump=dump;dumper$1.safeDump=safeDump;var loader=loader$1,dumper=dumper$1;function deprecated(e){return function(){throw new Error("Function "+e+" is deprecated and cannot be used.")}}jsYaml$1.Type=type;jsYaml$1.Schema=schema;jsYaml$1.FAILSAFE_SCHEMA=failsafe;jsYaml$1.JSON_SCHEMA=json;jsYaml$1.CORE_SCHEMA=core;jsYaml$1.DEFAULT_SAFE_SCHEMA=default_safe;jsYaml$1.DEFAULT_FULL_SCHEMA=default_full;jsYaml$1.load=loader.load;jsYaml$1.loadAll=loader.loadAll;jsYaml$1.safeLoad=loader.safeLoad;jsYaml$1.safeLoadAll=loader.safeLoadAll;jsYaml$1.dump=dumper.dump;jsYaml$1.safeDump=dumper.safeDump;jsYaml$1.YAMLException=exception;jsYaml$1.MINIMAL_SCHEMA=failsafe;jsYaml$1.SAFE_SCHEMA=default_safe;jsYaml$1.DEFAULT_SCHEMA=default_full;jsYaml$1.scan=deprecated("scan");jsYaml$1.parse=deprecated("parse");jsYaml$1.compose=deprecated("compose");jsYaml$1.addConstructor=deprecated("addConstructor");var yaml=jsYaml$1,jsYaml=yaml;(function(module,exports){const yaml=jsYaml,engines=module.exports;engines.yaml={parse:yaml.safeLoad.bind(yaml),stringify:yaml.safeDump.bind(yaml)},engines.json={parse:JSON.parse.bind(JSON),stringify:function(e,r){const n=Object.assign({replacer:null,space:2},r);return JSON.stringify(e,n.replacer,n.space)}},engines.javascript={parse:function parse(str,options,wrap){try{return wrap!==!1&&(str=`(function() {
return `+str.trim()+`;
}());`),eval(str)||{}}catch(e){if(wrap!==!1&&/(unexpected|identifier)/i.test(e.message))return parse(str,options,!1);throw new SyntaxError(e)}},stringify:function(){throw new Error("stringifying JavaScript is not supported")}}})(engines$3);var utils$3={};/*!
 * strip-bom-string <https://github.com/jonschlinkert/strip-bom-string>
 *
 * Copyright (c) 2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var stripBomString=function(e){return typeof e=="string"&&e.charAt(0)==="\uFEFF"?e.slice(1):e};(function(e){const r=stripBomString,n=kindOf;e.define=function(o,s,a){Reflect.defineProperty(o,s,{enumerable:!1,configurable:!0,writable:!0,value:a})},e.isBuffer=function(o){return n(o)==="buffer"},e.isObject=function(o){return n(o)==="object"},e.toBuffer=function(o){return typeof o=="string"?Buffer.from(o):o},e.toString=function(o){if(e.isBuffer(o))return r(String(o));if(typeof o!="string")throw new TypeError("expected input to be a string or buffer");return r(o)},e.arrayify=function(o){return o?Array.isArray(o)?o:[o]:[]},e.startsWith=function(o,s,a){return typeof a!="number"&&(a=s.length),o.slice(0,a)===s}})(utils$3);const engines$2=engines$3.exports,utils$2=utils$3;var defaults$4=function(e){const r=Object.assign({},e);return r.delimiters=utils$2.arrayify(r.delims||r.delimiters||"---"),r.delimiters.length===1&&r.delimiters.push(r.delimiters[0]),r.language=(r.language||r.lang||"yaml").toLowerCase(),r.engines=Object.assign({},engines$2,r.parsers,r.engines),r},engine=function(e,r){let n=r.engines[e]||r.engines[aliase(e)];if(typeof n=="undefined")throw new Error('gray-matter engine "'+e+'" is not registered');return typeof n=="function"&&(n={parse:n}),n};function aliase(e){switch(e.toLowerCase()){case"js":case"javascript":return"javascript";case"coffee":case"coffeescript":case"cson":return"coffee";case"yaml":case"yml":return"yaml";default:return e}}const typeOf$1=kindOf,getEngine$1=engine,defaults$3=defaults$4;var stringify$2=function(e,r,n){if(r==null&&n==null)switch(typeOf$1(e)){case"object":r=e.data,n={};break;case"string":return e;default:throw new TypeError("expected file to be a string or object")}const o=e.content,s=defaults$3(n);if(r==null){if(!s.data)return e;r=s.data}const a=e.language||s.language,l=getEngine$1(a,s);if(typeof l.stringify!="function")throw new TypeError('expected "'+a+'.stringify" to be a function');r=Object.assign({},e.data,r);const c=s.delimiters[0],u=s.delimiters[1],f=l.stringify(r,n).trim();let d="";return f!=="{}"&&(d=newline(c)+newline(f)+newline(u)),typeof e.excerpt=="string"&&e.excerpt!==""&&o.indexOf(e.excerpt.trim())===-1&&(d+=newline(e.excerpt)+newline(u)),d+newline(o)};function newline(e){return e.slice(-1)!==`
`?e+`
`:e}const defaults$2=defaults$4;var excerpt$1=function(e,r){const n=defaults$2(r);if(e.data==null&&(e.data={}),typeof n.excerpt=="function")return n.excerpt(e,n);const o=e.data.excerpt_separator||n.excerpt_separator;if(o==null&&(n.excerpt===!1||n.excerpt==null))return e;const s=typeof n.excerpt=="string"?n.excerpt:o||n.delimiters[0],a=e.content.indexOf(s);return a!==-1&&(e.excerpt=e.content.slice(0,a)),e};const typeOf=kindOf,stringify$1=stringify$2,utils$1=utils$3;var toFile$2=function(e){return typeOf(e)!=="object"&&(e={content:e}),typeOf(e.data)!=="object"&&(e.data={}),e.contents&&e.content==null&&(e.content=e.contents),utils$1.define(e,"orig",utils$1.toBuffer(e.content)),utils$1.define(e,"language",e.language||""),utils$1.define(e,"matter",e.matter||""),utils$1.define(e,"stringify",function(r,n){return n&&n.language&&(e.language=n.language),stringify$1(e,r,n)}),e.content=utils$1.toString(e.content),e.isEmpty=!1,e.excerpt="",e};const getEngine=engine,defaults$1=defaults$4;var parse$3=function(e,r,n){const o=defaults$1(n),s=getEngine(e,o);if(typeof s.parse!="function")throw new TypeError('expected "'+e+'.parse" to be a function');return s.parse(r,o)};const fs$2=require$$2,sections=sectionMatter,defaults=defaults$4,stringify=stringify$2,excerpt=excerpt$1,engines$1=engines$3.exports,toFile$1=toFile$2,parse$2=parse$3,utils=utils$3;function matter(e,r){if(e==="")return{data:{},content:e,excerpt:"",orig:e};let n=toFile$1(e);const o=matter.cache[n.content];if(!r){if(o)return n=Object.assign({},o),n.orig=o.orig,n;matter.cache[n.content]=n}return parseMatter(n,r)}function parseMatter(e,r){const n=defaults(r),o=n.delimiters[0],s=`
`+n.delimiters[1];let a=e.content;n.language&&(e.language=n.language);const l=o.length;if(!utils.startsWith(a,o,l))return excerpt(e,n),e;if(a.charAt(l)===o.slice(-1))return e;a=a.slice(l);const c=a.length,u=matter.language(a,n);u.name&&(e.language=u.name,a=a.slice(u.raw.length));let f=a.indexOf(s);return f===-1&&(f=c),e.matter=a.slice(0,f),e.matter.replace(/^\s*#[^\n]+/gm,"").trim()===""?(e.isEmpty=!0,e.empty=e.content,e.data={}):e.data=parse$2(e.language,e.matter,n),f===c?e.content="":(e.content=a.slice(f+s.length),e.content[0]==="\r"&&(e.content=e.content.slice(1)),e.content[0]===`
`&&(e.content=e.content.slice(1))),excerpt(e,n),(n.sections===!0||typeof n.section=="function")&&sections(e,n.section),e}matter.engines=engines$1;matter.stringify=function(e,r,n){return typeof e=="string"&&(e=matter(e,n)),stringify(e,r,n)};matter.read=function(e,r){const n=fs$2.readFileSync(e,"utf8"),o=matter(n,r);return o.path=e,o};matter.test=function(e,r){return utils.startsWith(e,defaults(r).delimiters[0])};matter.language=function(e,r){const o=defaults(r).delimiters[0];matter.test(e)&&(e=e.slice(o.length));const s=e.slice(0,e.search(/\r?\n/));return{raw:s,name:s?s.trim():""}};matter.cache={};matter.clearCache=function(){matter.cache={}};var grayMatter=matter;const defined=function(e){return typeof e!="undefined"&&e!==null},object=function(e){return typeof e=="object"},plainObject=function(e){return Object.prototype.toString.call(e)==="[object Object]"},fn=function(e){return typeof e=="function"},bool$1=function(e){return typeof e=="boolean"},buffer=function(e){return e instanceof Buffer},typedArray=function(e){if(defined(e))switch(e.constructor){case Uint8Array:case Uint8ClampedArray:case Int8Array:case Uint16Array:case Int16Array:case Uint32Array:case Int32Array:case Float32Array:case Float64Array:return!0}return!1},string=function(e){return typeof e=="string"&&e.length>0},number=function(e){return typeof e=="number"&&!Number.isNaN(e)},integer=function(e){return Number.isInteger(e)},inRange=function(e,r,n){return e>=r&&e<=n},inArray=function(e,r){return r.includes(e)},invalidParameterError=function(e,r,n){return new Error(`Expected ${r} for ${e} but received ${n} of type ${typeof n}`)};var is$9={defined,object,plainObject,fn,bool:bool$1,buffer,typedArray,string,number,integer,inRange,inArray,invalidParameterError};const debug$1=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var debug_1=debug$1;const SEMVER_SPEC_VERSION="2.0.0",MAX_LENGTH$2=256,MAX_SAFE_INTEGER$1=Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH=16;var constants={SEMVER_SPEC_VERSION,MAX_LENGTH:MAX_LENGTH$2,MAX_SAFE_INTEGER:MAX_SAFE_INTEGER$1,MAX_SAFE_COMPONENT_LENGTH},re$3={exports:{}};(function(e,r){const{MAX_SAFE_COMPONENT_LENGTH:n}=constants,o=debug_1;r=e.exports={};const s=r.re=[],a=r.src=[],l=r.t={};let c=0;const u=(f,d,h)=>{const p=c++;o(p,d),l[f]=p,a[p]=d,s[p]=new RegExp(d,h?"g":void 0)};u("NUMERICIDENTIFIER","0|[1-9]\\d*"),u("NUMERICIDENTIFIERLOOSE","[0-9]+"),u("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),u("MAINVERSION",`(${a[l.NUMERICIDENTIFIER]})\\.(${a[l.NUMERICIDENTIFIER]})\\.(${a[l.NUMERICIDENTIFIER]})`),u("MAINVERSIONLOOSE",`(${a[l.NUMERICIDENTIFIERLOOSE]})\\.(${a[l.NUMERICIDENTIFIERLOOSE]})\\.(${a[l.NUMERICIDENTIFIERLOOSE]})`),u("PRERELEASEIDENTIFIER",`(?:${a[l.NUMERICIDENTIFIER]}|${a[l.NONNUMERICIDENTIFIER]})`),u("PRERELEASEIDENTIFIERLOOSE",`(?:${a[l.NUMERICIDENTIFIERLOOSE]}|${a[l.NONNUMERICIDENTIFIER]})`),u("PRERELEASE",`(?:-(${a[l.PRERELEASEIDENTIFIER]}(?:\\.${a[l.PRERELEASEIDENTIFIER]})*))`),u("PRERELEASELOOSE",`(?:-?(${a[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${a[l.PRERELEASEIDENTIFIERLOOSE]})*))`),u("BUILDIDENTIFIER","[0-9A-Za-z-]+"),u("BUILD",`(?:\\+(${a[l.BUILDIDENTIFIER]}(?:\\.${a[l.BUILDIDENTIFIER]})*))`),u("FULLPLAIN",`v?${a[l.MAINVERSION]}${a[l.PRERELEASE]}?${a[l.BUILD]}?`),u("FULL",`^${a[l.FULLPLAIN]}$`),u("LOOSEPLAIN",`[v=\\s]*${a[l.MAINVERSIONLOOSE]}${a[l.PRERELEASELOOSE]}?${a[l.BUILD]}?`),u("LOOSE",`^${a[l.LOOSEPLAIN]}$`),u("GTLT","((?:<|>)?=?)"),u("XRANGEIDENTIFIERLOOSE",`${a[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),u("XRANGEIDENTIFIER",`${a[l.NUMERICIDENTIFIER]}|x|X|\\*`),u("XRANGEPLAIN",`[v=\\s]*(${a[l.XRANGEIDENTIFIER]})(?:\\.(${a[l.XRANGEIDENTIFIER]})(?:\\.(${a[l.XRANGEIDENTIFIER]})(?:${a[l.PRERELEASE]})?${a[l.BUILD]}?)?)?`),u("XRANGEPLAINLOOSE",`[v=\\s]*(${a[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[l.XRANGEIDENTIFIERLOOSE]})(?:${a[l.PRERELEASELOOSE]})?${a[l.BUILD]}?)?)?`),u("XRANGE",`^${a[l.GTLT]}\\s*${a[l.XRANGEPLAIN]}$`),u("XRANGELOOSE",`^${a[l.GTLT]}\\s*${a[l.XRANGEPLAINLOOSE]}$`),u("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),u("COERCERTL",a[l.COERCE],!0),u("LONETILDE","(?:~>?)"),u("TILDETRIM",`(\\s*)${a[l.LONETILDE]}\\s+`,!0),r.tildeTrimReplace="$1~",u("TILDE",`^${a[l.LONETILDE]}${a[l.XRANGEPLAIN]}$`),u("TILDELOOSE",`^${a[l.LONETILDE]}${a[l.XRANGEPLAINLOOSE]}$`),u("LONECARET","(?:\\^)"),u("CARETTRIM",`(\\s*)${a[l.LONECARET]}\\s+`,!0),r.caretTrimReplace="$1^",u("CARET",`^${a[l.LONECARET]}${a[l.XRANGEPLAIN]}$`),u("CARETLOOSE",`^${a[l.LONECARET]}${a[l.XRANGEPLAINLOOSE]}$`),u("COMPARATORLOOSE",`^${a[l.GTLT]}\\s*(${a[l.LOOSEPLAIN]})$|^$`),u("COMPARATOR",`^${a[l.GTLT]}\\s*(${a[l.FULLPLAIN]})$|^$`),u("COMPARATORTRIM",`(\\s*)${a[l.GTLT]}\\s*(${a[l.LOOSEPLAIN]}|${a[l.XRANGEPLAIN]})`,!0),r.comparatorTrimReplace="$1$2$3",u("HYPHENRANGE",`^\\s*(${a[l.XRANGEPLAIN]})\\s+-\\s+(${a[l.XRANGEPLAIN]})\\s*$`),u("HYPHENRANGELOOSE",`^\\s*(${a[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${a[l.XRANGEPLAINLOOSE]})\\s*$`),u("STAR","(<|>)?=?\\s*\\*"),u("GTE0","^\\s*>=\\s*0.0.0\\s*$"),u("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")})(re$3,re$3.exports);const opts=["includePrerelease","loose","rtl"],parseOptions$2=e=>e?typeof e!="object"?{loose:!0}:opts.filter(r=>e[r]).reduce((r,n)=>(r[n]=!0,r),{}):{};var parseOptions_1=parseOptions$2;const numeric=/^[0-9]+$/,compareIdentifiers$1=(e,r)=>{const n=numeric.test(e),o=numeric.test(r);return n&&o&&(e=+e,r=+r),e===r?0:n&&!o?-1:o&&!n?1:e<r?-1:1},rcompareIdentifiers=(e,r)=>compareIdentifiers$1(r,e);var identifiers={compareIdentifiers:compareIdentifiers$1,rcompareIdentifiers};const debug=debug_1,{MAX_LENGTH:MAX_LENGTH$1,MAX_SAFE_INTEGER}=constants,{re:re$2,t:t$2}=re$3.exports,parseOptions$1=parseOptions_1,{compareIdentifiers}=identifiers;class SemVer$3{constructor(r,n){if(n=parseOptions$1(n),r instanceof SemVer$3){if(r.loose===!!n.loose&&r.includePrerelease===!!n.includePrerelease)return r;r=r.version}else if(typeof r!="string")throw new TypeError(`Invalid Version: ${r}`);if(r.length>MAX_LENGTH$1)throw new TypeError(`version is longer than ${MAX_LENGTH$1} characters`);debug("SemVer",r,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const o=r.trim().match(n.loose?re$2[t$2.LOOSE]:re$2[t$2.FULL]);if(!o)throw new TypeError(`Invalid Version: ${r}`);if(this.raw=r,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>MAX_SAFE_INTEGER||this.major<0)throw new TypeError("Invalid major version");if(this.minor>MAX_SAFE_INTEGER||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>MAX_SAFE_INTEGER||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const a=+s;if(a>=0&&a<MAX_SAFE_INTEGER)return a}return s}):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(r){if(debug("SemVer.compare",this.version,this.options,r),!(r instanceof SemVer$3)){if(typeof r=="string"&&r===this.version)return 0;r=new SemVer$3(r,this.options)}return r.version===this.version?0:this.compareMain(r)||this.comparePre(r)}compareMain(r){return r instanceof SemVer$3||(r=new SemVer$3(r,this.options)),compareIdentifiers(this.major,r.major)||compareIdentifiers(this.minor,r.minor)||compareIdentifiers(this.patch,r.patch)}comparePre(r){if(r instanceof SemVer$3||(r=new SemVer$3(r,this.options)),this.prerelease.length&&!r.prerelease.length)return-1;if(!this.prerelease.length&&r.prerelease.length)return 1;if(!this.prerelease.length&&!r.prerelease.length)return 0;let n=0;do{const o=this.prerelease[n],s=r.prerelease[n];if(debug("prerelease compare",n,o,s),o===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(o===void 0)return-1;if(o===s)continue;return compareIdentifiers(o,s)}while(++n)}compareBuild(r){r instanceof SemVer$3||(r=new SemVer$3(r,this.options));let n=0;do{const o=this.build[n],s=r.build[n];if(debug("prerelease compare",n,o,s),o===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(o===void 0)return-1;if(o===s)continue;return compareIdentifiers(o,s)}while(++n)}inc(r,n){switch(r){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n),this.inc("pre",n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n),this.inc("pre",n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);o===-1&&this.prerelease.push(0)}n&&(this.prerelease[0]===n?isNaN(this.prerelease[1])&&(this.prerelease=[n,0]):this.prerelease=[n,0]);break;default:throw new Error(`invalid increment argument: ${r}`)}return this.format(),this.raw=this.version,this}}var semver=SemVer$3;const{MAX_LENGTH}=constants,{re:re$1,t:t$1}=re$3.exports,SemVer$2=semver,parseOptions=parseOptions_1,parse$1=(e,r)=>{if(r=parseOptions(r),e instanceof SemVer$2)return e;if(typeof e!="string"||e.length>MAX_LENGTH||!(r.loose?re$1[t$1.LOOSE]:re$1[t$1.FULL]).test(e))return null;try{return new SemVer$2(e,r)}catch{return null}};var parse_1=parse$1;const SemVer$1=semver,parse=parse_1,{re,t}=re$3.exports,coerce=(e,r)=>{if(e instanceof SemVer$1)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;r=r||{};let n=null;if(!r.rtl)n=e.match(re[t.COERCE]);else{let o;for(;(o=re[t.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)(!n||o.index+o[0].length!==n.index+n[0].length)&&(n=o),re[t.COERCERTL].lastIndex=o.index+o[1].length+o[2].length;re[t.COERCERTL].lastIndex=-1}return n===null?null:parse(`${n[2]}.${n[3]||"0"}.${n[4]||"0"}`,r)};var coerce_1=coerce;const SemVer=semver,compare$1=(e,r,n)=>new SemVer(e,n).compare(new SemVer(r,n));var compare_1=compare$1;const compare=compare_1,gte=(e,r,n)=>compare(e,r,n)>=0;var gte_1=gte;const isLinux$1=()=>process.platform==="linux";let report=null;const getReport$1=()=>(report||(report=isLinux$1()&&process.report?process.report.getReport():{}),report);var process_1={isLinux:isLinux$1,getReport:getReport$1};const childProcess=require$$2,{isLinux,getReport}=process_1,command="getconf GNU_LIBC_VERSION 2>&1 || true; ldd --version 2>&1 || true";let commandOut="";const safeCommand=()=>commandOut||new Promise(e=>{childProcess.exec(command,(r,n)=>{commandOut=r?" ":n,e(commandOut)})}),safeCommandSync=()=>{if(!commandOut)try{commandOut=childProcess.execSync(command,{encoding:"utf8"})}catch{commandOut=" "}return commandOut},GLIBC="glibc",MUSL="musl",isFileMusl=e=>e.includes("libc.musl-")||e.includes("ld-musl-"),familyFromReport=()=>{const e=getReport();return e.header&&e.header.glibcVersionRuntime?GLIBC:Array.isArray(e.sharedObjects)&&e.sharedObjects.some(isFileMusl)?MUSL:null},familyFromCommand=e=>{const[r,n]=e.split(/[\r\n]+/);return r&&r.includes(GLIBC)?GLIBC:n&&n.includes(MUSL)?MUSL:null},family=async()=>{let e=null;if(isLinux()&&(e=familyFromReport(),!e)){const r=await safeCommand();e=familyFromCommand(r)}return e},familySync=()=>{let e=null;if(isLinux()&&(e=familyFromReport(),!e)){const r=safeCommandSync();e=familyFromCommand(r)}return e},isNonGlibcLinux=async()=>isLinux()&&await family()!==GLIBC,isNonGlibcLinuxSync=()=>isLinux()&&familySync()!==GLIBC,versionFromReport=()=>{const e=getReport();return e.header&&e.header.glibcVersionRuntime?e.header.glibcVersionRuntime:null},versionSuffix=e=>e.trim().split(/\s+/)[1],versionFromCommand=e=>{const[r,n,o]=e.split(/[\r\n]+/);return r&&r.includes(GLIBC)?versionSuffix(r):n&&o&&n.includes(MUSL)?versionSuffix(o):null},version$1=async()=>{let e=null;if(isLinux()&&(e=versionFromReport(),!e)){const r=await safeCommand();e=versionFromCommand(r)}return e},versionSync=()=>{let e=null;if(isLinux()&&(e=versionFromReport(),!e)){const r=safeCommandSync();e=versionFromCommand(r)}return e};var detectLibc$2={GLIBC,MUSL,family,familySync,isNonGlibcLinux,isNonGlibcLinuxSync,version:version$1,versionSync};const detectLibc$1=detectLibc$2,env$1=process.env;var platform$1=function(){const e=env$1.npm_config_arch||process.arch,r=env$1.npm_config_platform||process.platform,n=r==="linux"&&detectLibc$1.isNonGlibcLinuxSync()?detectLibc$1.familySync():"",o=[`${r}${n}`];if(e==="arm"){const s=process.versions.electron?"7":"6";o.push(`armv${env$1.npm_config_arm_version||process.config.variables.arm_version||s}`)}else e==="arm64"?o.push(`arm64v${env$1.npm_config_arm_version||"8"}`):o.push(e);return o.join("-")};const name$1="sharp",description="High performance Node.js image processing, the fastest module to resize JPEG, PNG, WebP, GIF, AVIF and TIFF images",version="0.30.3",author="Lovell Fuller <npm@lovell.info>",homepage="https://github.com/lovell/sharp",contributors=["Pierre Inglebert <pierre.inglebert@gmail.com>","Jonathan Ong <jonathanrichardong@gmail.com>","Chanon Sajjamanochai <chanon.s@gmail.com>","Juliano Julio <julianojulio@gmail.com>","Daniel Gasienica <daniel@gasienica.ch>","Julian Walker <julian@fiftythree.com>","Amit Pitaru <pitaru.amit@gmail.com>","Brandon Aaron <hello.brandon@aaron.sh>","Andreas Lind <andreas@one.com>","Maurus Cuelenaere <mcuelenaere@gmail.com>","Linus Unneb\xE4ck <linus@folkdatorn.se>","Victor Mateevitsi <mvictoras@gmail.com>","Alaric Holloway <alaric.holloway@gmail.com>","Bernhard K. Weisshuhn <bkw@codingforce.com>","Chris Riley <criley@primedia.com>","David Carley <dacarley@gmail.com>","John Tobin <john@limelightmobileinc.com>","Kenton Gray <kentongray@gmail.com>","Felix B\xFCnemann <Felix.Buenemann@gmail.com>","Samy Al Zahrani <samyalzahrany@gmail.com>","Chintan Thakkar <lemnisk8@gmail.com>","F. Orlando Galashan <frulo@gmx.de>","Kleis Auke Wolthuizen <info@kleisauke.nl>","Matt Hirsch <mhirsch@media.mit.edu>","Matthias Thoemmes <thoemmes@gmail.com>","Patrick Paskaris <patrick@paskaris.gr>","J\xE9r\xE9my Lal <kapouer@melix.org>","Rahul Nanwani <r.nanwani@gmail.com>","Alice Monday <alice0meta@gmail.com>","Kristo Jorgenson <kristo.jorgenson@gmail.com>","YvesBos <yves_bos@outlook.com>","Guy Maliar <guy@tailorbrands.com>","Nicolas Coden <nicolas@ncoden.fr>","Matt Parrish <matt.r.parrish@gmail.com>","Marcel Bretschneider <marcel.bretschneider@gmail.com>","Matthew McEachen <matthew+github@mceachen.org>","Jarda Kot\u011B\u0161ovec <jarda.kotesovec@gmail.com>","Kenric D'Souza <kenric.dsouza@gmail.com>","Oleh Aleinyk <oleg.aleynik@gmail.com>","Marcel Bretschneider <marcel.bretschneider@gmail.com>","Andrea Bianco <andrea.bianco@unibas.ch>","Rik Heywood <rik@rik.org>","Thomas Parisot <hi@oncletom.io>","Nathan Graves <nathanrgraves+github@gmail.com>","Tom Lokhorst <tom@lokhorst.eu>","Espen Hovlandsdal <espen@hovlandsdal.com>","Sylvain Dumont <sylvain.dumont35@gmail.com>","Alun Davies <alun.owain.davies@googlemail.com>","Aidan Hoolachan <ajhoolachan21@gmail.com>","Axel Eirola <axel.eirola@iki.fi>","Freezy <freezy@xbmc.org>","Daiz <taneli.vatanen@gmail.com>","Julian Aubourg <j@ubourg.net>","Keith Belovay <keith@picthrive.com>","Michael B. Klein <mbklein@gmail.com>","Jordan Prudhomme <jordan@raboland.fr>","Ilya Ovdin <iovdin@gmail.com>","Andargor <andargor@yahoo.com>","Paul Neave <paul.neave@gmail.com>","Brendan Kennedy <brenwken@gmail.com>","Brychan Bennett-Odlum <git@brychan.io>","Edward Silverton <e.silverton@gmail.com>","Roman Malieiev <aromaleev@gmail.com>","Tomas Szabo <tomas.szabo@deftomat.com>","Robert O'Rourke <robert@o-rourke.org>","Guillermo Alfonso Varela Chouci\xF1o <guillevch@gmail.com>","Christian Flintrup <chr@gigahost.dk>","Manan Jadhav <manan@motionden.com>","Leon Radley <leon@radley.se>","alza54 <alza54@thiocod.in>","Jacob Smith <jacob@frende.me>","Michael Nutt <michael@nutt.im>","Brad Parham <baparham@gmail.com>","Taneli Vatanen <taneli.vatanen@gmail.com>","Joris Dugu\xE9 <zaruike10@gmail.com>","Chris Banks <christopher.bradley.banks@gmail.com>","Ompal Singh <ompal.hitm09@gmail.com>"],scripts={install:"(node install/libvips && node install/dll-copy && prebuild-install) || (node install/can-compile && node-gyp rebuild && node install/dll-copy)",clean:"rm -rf node_modules/ build/ vendor/ .nyc_output/ coverage/ test/fixtures/output.*",test:"npm run test-lint && npm run test-unit && npm run test-licensing","test-lint":"semistandard && cpplint","test-unit":"nyc --reporter=lcov --branches=99 mocha --slow=1000 --timeout=60000 ./test/unit/*.js","test-licensing":'license-checker --production --summary --onlyAllow="Apache-2.0;BSD;ISC;MIT"',"test-coverage":"./test/coverage/report.sh","test-leak":"./test/leak/leak.sh","docs-build":"documentation lint lib && node docs/build && node docs/search-index/build","docs-serve":"cd docs && npx serve","docs-publish":"cd docs && npx firebase-tools deploy --project pixelplumbing --only hosting:pixelplumbing-sharp"},main="lib/index.js",files=["binding.gyp","install/**","lib/**","src/**"],repository={type:"git",url:"git://github.com/lovell/sharp"},keywords=["jpeg","png","webp","avif","tiff","gif","svg","jp2","dzi","image","resize","thumbnail","crop","embed","libvips","vips"],dependencies={color:"^4.2.1","detect-libc":"^2.0.1","node-addon-api":"^4.3.0","prebuild-install":"^7.0.1",semver:"^7.3.5","simple-get":"^4.0.1","tar-fs":"^2.1.1","tunnel-agent":"^0.6.0"},devDependencies={async:"^3.2.3",cc:"^3.0.1","decompress-zip":"^0.3.3",documentation:"^13.2.5","exif-reader":"^1.0.3",icc:"^2.0.0","license-checker":"^25.0.1",mocha:"^9.2.2","mock-fs":"^5.1.2",nyc:"^15.1.0",prebuild:"^11.0.3",rimraf:"^3.0.2",semistandard:"^16.0.1"},license="Apache-2.0",config$1={libvips:"8.12.2",integrity:{"darwin-arm64v8":"sha512-p46s/bbJAjkOXzPISZt9HUpG9GWjwQkYnLLRLKzsBJHLtB3X6C6Y/zXI5Hd0DOojcFkks9a0kTN+uDQ/XJY19g==","darwin-x64":"sha512-6vOHVZnvXwe6EXRsy29jdkUzBE6ElNpXUwd+m8vV7qy32AnXu7B9YemHsZ44vWviIwPZeXF6Nhd9EFLM0wWohw==","linux-arm64v8":"sha512-XwZdS63yhqLtbFtx/0eoLF/Agf5qtTrI11FMnMRpuBJWd4jHB60RAH+uzYUgoChCmKIS+AeXYMLm4d8Ns2QX8w==","linux-armv6":"sha512-Rh0Q0kqwPG2MjXWOkPCuPEyiUKFgKJYWLgS835D4MrXgdKr8Tft/eVrc2iGIxt2re30VpDiZ1h0Rby1aCZt2zw==","linux-armv7":"sha512-heTS/MsmRvu4JljINxP+vDiS9ZZfuGhr3IStb5F7Gc0/QLRhllYAg4rcO8L1eTK9sIIzG5ARvI19+YUZe7WbzA==","linux-x64":"sha512-SSWAwBFi0hx8V/h/v82tTFGKWTFv9FiCK3Timz5OExuI+sX1Ngrd0PVQaWXOThGNdel/fcD3Bz9YjSt4feBR1g==","linuxmusl-arm64v8":"sha512-Rhks+5C7p7aO6AucLT1uvzo8ohlqcqCUPgZmN+LZjsPWob/Iix3MfiDYtv/+gTvdeEfXxbCU6/YuPBwHQ7/crA==","linuxmusl-x64":"sha512-IOyjSQqpWVntqOUpCHVWuQwACwmmjdi15H8Pc+Ma1JkhPogTfVsFQWyL7DuOTD3Yr23EuYGzovUX00duOtfy/g==","win32-arm64v8":"sha512-A+Qe8Ipewtvw9ldvF6nWed2J8kphzrUE04nFeKCtNx6pfGQ/MAlCKMjt/U8VgUKNjB01zJDUW9XE0+FhGZ/UpQ==","win32-ia32":"sha512-cMrAvwFdDeAVnLJt0IPMPRKaIFhyXYGTprsM0DND9VUHE8F7dJMR44tS5YkXsGh1QNDtjKT6YuxAVUglmiXtpA==","win32-x64":"sha512-vLFIfw6aW2zABa8jpgzWDhljnE6glktrddErVyazAIoHl6BFFe/Da+LK1DbXvIYHz7fyOoKhSfCJHCiJG1Vg6w=="},runtime:"napi",target:5},engines={node:">=12.13.0"},funding={url:"https://opencollective.com/libvips"},binary={napi_versions:[5]},semistandard={env:["mocha"]},cc={linelength:"120",filter:["build/include"]};var require$$7={name:name$1,description,version,author,homepage,contributors,scripts,main,files,repository,keywords,dependencies,devDependencies,license,config:config$1,engines,funding,binary,semistandard,cc};const fs$1=require$$2,os=require$$2,path$2=require$$2,spawnSync=require$$2.spawnSync,semverCoerce=coerce_1,semverGreaterThanOrEqualTo=gte_1,platform=platform$1,{config}=require$$7,env=process.env,minimumLibvipsVersionLabelled=env.npm_package_config_libvips||config.libvips,minimumLibvipsVersion=semverCoerce(minimumLibvipsVersionLabelled).version,spawnSyncOptions={encoding:"utf8",shell:!0},vendorPath=path$2.join(__dirname,"..","vendor",minimumLibvipsVersion,platform()),mkdirSync=function(e){try{fs$1.mkdirSync(e,{recursive:!0})}catch(r){if(r.code!=="EEXIST")throw r}},cachePath=function(){const e=env.npm_config_cache||(env.APPDATA?path$2.join(env.APPDATA,"npm-cache"):path$2.join(os.homedir(),".npm"));mkdirSync(e);const r=path$2.join(e,"_libvips");return mkdirSync(r),r},integrity=function(e){return env[`npm_package_config_integrity_${e.replace("-","_")}`]||config.integrity[e]},log=function(e){e instanceof Error?console.error(`sharp: Installation error: ${e.message}`):console.log(`sharp: ${e}`)},isRosetta=function(){return process.platform==="darwin"&&process.arch==="x64"?(spawnSync("sysctl sysctl.proc_translated",spawnSyncOptions).stdout||"").trim()==="sysctl.proc_translated: 1":!1},globalLibvipsVersion=function(){return process.platform!=="win32"?(spawnSync(`PKG_CONFIG_PATH="${pkgConfigPath()}" pkg-config --modversion vips-cpp`,spawnSyncOptions).stdout||"").trim():""},hasVendoredLibvips=function(){return fs$1.existsSync(vendorPath)},removeVendoredLibvips=function(){(fs$1.rmSync?fs$1.rmSync:fs$1.rmdirSync)(vendorPath,{recursive:!0,maxRetries:3,force:!0})},pkgConfigPath=function(){return process.platform!=="win32"?[(spawnSync("which brew >/dev/null 2>&1 && eval $(brew --env) && echo $PKG_CONFIG_LIBDIR",spawnSyncOptions).stdout||"").trim(),env.PKG_CONFIG_PATH,"/usr/local/lib/pkgconfig","/usr/lib/pkgconfig","/usr/local/libdata/pkgconfig","/usr/libdata/pkgconfig"].filter(Boolean).join(":"):""},useGlobalLibvips=function(){if(Boolean(env.SHARP_IGNORE_GLOBAL_LIBVIPS)===!0||isRosetta())return!1;const e=globalLibvipsVersion();return!!e&&semverGreaterThanOrEqualTo(e,minimumLibvipsVersion)};var libvips={minimumLibvipsVersion,minimumLibvipsVersionLabelled,cachePath,integrity,log,globalLibvipsVersion,hasVendoredLibvips,removeVendoredLibvips,pkgConfigPath,useGlobalLibvips,mkdirSync},sharp$3={exports:{}};const platformAndArch$1=platform$1();try{sharp$3.exports=commonjsRequire(`../build/Release/sharp-${platformAndArch$1}.node`)}catch(e){const r=["",'Something went wrong installing the "sharp" module',"",e.message,"","Possible solutions:"];if(/dylib/.test(e.message)&&/Incompatible library version/.test(e.message))r.push('- Update Homebrew: "brew update && brew upgrade vips"');else{const[n,o]=platformAndArch$1.split("-");r.push('- Install with the --verbose flag and look for errors: "npm install --ignore-scripts=false --verbose sharp"',`- Install for the current ${platformAndArch$1} runtime: "npm install --platform=${n} --arch=${o} sharp"`)}if(r.push("- Consult the installation documentation: https://sharp.pixelplumbing.com/install"),process.platform==="win32"||/symbol/.test(e.message)){const n=Object.keys(require.cache).find(o=>/[\\/]build[\\/]Release[\\/]sharp(.*)\.node$/.test(o));if(n){const[,o]=n.match(/node_modules[\\/]([^\\/]+)[\\/]/);r.push(`- Ensure the version of sharp aligns with the ${o} package: "npm ls sharp"`)}}throw new Error(r.join(`
`))}const util=require$$2,stream=require$$2,is$8=is$9;libvips.hasVendoredLibvips();const debuglog=util.debuglog("sharp"),Sharp$1=function(e,r){if(arguments.length===1&&!is$8.defined(e))throw new Error("Invalid input");return this instanceof Sharp$1?(stream.Duplex.call(this),this.options={topOffsetPre:-1,leftOffsetPre:-1,widthPre:-1,heightPre:-1,topOffsetPost:-1,leftOffsetPost:-1,widthPost:-1,heightPost:-1,width:-1,height:-1,canvas:"crop",position:0,resizeBackground:[0,0,0,255],useExifOrientation:!1,angle:0,rotationAngle:0,rotationBackground:[0,0,0,255],rotateBeforePreExtract:!1,flip:!1,flop:!1,extendTop:0,extendBottom:0,extendLeft:0,extendRight:0,extendBackground:[0,0,0,255],withoutEnlargement:!1,withoutReduction:!1,affineMatrix:[],affineBackground:[0,0,0,255],affineIdx:0,affineIdy:0,affineOdx:0,affineOdy:0,affineInterpolator:this.constructor.interpolators.bilinear,kernel:"lanczos3",fastShrinkOnLoad:!0,tintA:128,tintB:128,flatten:!1,flattenBackground:[0,0,0],negate:!1,negateAlpha:!0,medianSize:0,blurSigma:0,sharpenSigma:0,sharpenM1:1,sharpenM2:2,sharpenX1:2,sharpenY2:10,sharpenY3:20,threshold:0,thresholdGrayscale:!0,trimThreshold:0,gamma:0,gammaOut:0,greyscale:!1,normalise:!1,claheWidth:0,claheHeight:0,claheMaxSlope:3,brightness:1,saturation:1,hue:0,lightness:0,booleanBufferIn:null,booleanFileIn:"",joinChannelIn:[],extractChannel:-1,removeAlpha:!1,ensureAlpha:-1,colourspace:"srgb",colourspaceInput:"last",composite:[],fileOut:"",formatOut:"input",streamOut:!1,withMetadata:!1,withMetadataOrientation:-1,withMetadataDensity:0,withMetadataIcc:"",withMetadataStrs:{},resolveWithObject:!1,jpegQuality:80,jpegProgressive:!1,jpegChromaSubsampling:"4:2:0",jpegTrellisQuantisation:!1,jpegOvershootDeringing:!1,jpegOptimiseScans:!1,jpegOptimiseCoding:!0,jpegQuantisationTable:0,pngProgressive:!1,pngCompressionLevel:6,pngAdaptiveFiltering:!1,pngPalette:!1,pngQuality:100,pngEffort:7,pngBitdepth:8,pngDither:1,jp2Quality:80,jp2TileHeight:512,jp2TileWidth:512,jp2Lossless:!1,jp2ChromaSubsampling:"4:4:4",webpQuality:80,webpAlphaQuality:100,webpLossless:!1,webpNearLossless:!1,webpSmartSubsample:!1,webpEffort:4,gifBitdepth:8,gifEffort:7,gifDither:1,tiffQuality:80,tiffCompression:"jpeg",tiffPredictor:"horizontal",tiffPyramid:!1,tiffBitdepth:8,tiffTile:!1,tiffTileHeight:256,tiffTileWidth:256,tiffXres:1,tiffYres:1,tiffResolutionUnit:"inch",heifQuality:50,heifLossless:!1,heifCompression:"av1",heifEffort:4,heifChromaSubsampling:"4:4:4",rawDepth:"uchar",tileSize:256,tileOverlap:0,tileContainer:"fs",tileLayout:"dz",tileFormat:"last",tileDepth:"last",tileAngle:0,tileSkipBlanks:-1,tileBackground:[255,255,255,255],tileCentre:!1,tileId:"https://example.com/iiif",timeoutSeconds:0,linearA:1,linearB:0,debuglog:n=>{this.emit("warning",n),debuglog(n)},queueListener:function(n){Sharp$1.queue.emit("change",n)}},this.options.input=this._createInputDescriptor(e,r,{allowStream:!0}),this):new Sharp$1(e,r)};Object.setPrototypeOf(Sharp$1.prototype,stream.Duplex.prototype);Object.setPrototypeOf(Sharp$1,stream.Duplex);function clone(){const e=this.constructor.call();return e.options=Object.assign({},this.options),this._isStreamInput()&&this.on("finish",()=>{this._flattenBufferIn(),e.options.bufferIn=this.options.bufferIn,e.emit("finish")}),e}Object.assign(Sharp$1.prototype,{clone});var constructor=Sharp$1,colorString$1={exports:{}},colorName={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},simpleSwizzle={exports:{}},isArrayish$1=function e(r){return!r||typeof r=="string"?!1:r instanceof Array||Array.isArray(r)||r.length>=0&&(r.splice instanceof Function||Object.getOwnPropertyDescriptor(r,r.length-1)&&r.constructor.name!=="String")},isArrayish=isArrayish$1,concat=Array.prototype.concat,slice=Array.prototype.slice,swizzle$1=simpleSwizzle.exports=function e(r){for(var n=[],o=0,s=r.length;o<s;o++){var a=r[o];isArrayish(a)?n=concat.call(n,slice.call(a)):n.push(a)}return n};swizzle$1.wrap=function(e){return function(){return e(swizzle$1(arguments))}};var colorNames=colorName,swizzle=simpleSwizzle.exports,hasOwnProperty=Object.hasOwnProperty,reverseNames={};for(var name in colorNames)hasOwnProperty.call(colorNames,name)&&(reverseNames[colorNames[name]]=name);var cs=colorString$1.exports={to:{},get:{}};cs.get=function(e){var r=e.substring(0,3).toLowerCase(),n,o;switch(r){case"hsl":n=cs.get.hsl(e),o="hsl";break;case"hwb":n=cs.get.hwb(e),o="hwb";break;default:n=cs.get.rgb(e),o="rgb";break}return n?{model:o,value:n}:null};cs.get.rgb=function(e){if(!e)return null;var r=/^#([a-f0-9]{3,4})$/i,n=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,o=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,s=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,a=/^(\w+)$/,l=[0,0,0,1],c,u,f;if(c=e.match(n)){for(f=c[2],c=c[1],u=0;u<3;u++){var d=u*2;l[u]=parseInt(c.slice(d,d+2),16)}f&&(l[3]=parseInt(f,16)/255)}else if(c=e.match(r)){for(c=c[1],f=c[3],u=0;u<3;u++)l[u]=parseInt(c[u]+c[u],16);f&&(l[3]=parseInt(f+f,16)/255)}else if(c=e.match(o)){for(u=0;u<3;u++)l[u]=parseInt(c[u+1],0);c[4]&&(c[5]?l[3]=parseFloat(c[4])*.01:l[3]=parseFloat(c[4]))}else if(c=e.match(s)){for(u=0;u<3;u++)l[u]=Math.round(parseFloat(c[u+1])*2.55);c[4]&&(c[5]?l[3]=parseFloat(c[4])*.01:l[3]=parseFloat(c[4]))}else return(c=e.match(a))?c[1]==="transparent"?[0,0,0,0]:hasOwnProperty.call(colorNames,c[1])?(l=colorNames[c[1]],l[3]=1,l):null:null;for(u=0;u<3;u++)l[u]=clamp(l[u],0,255);return l[3]=clamp(l[3],0,1),l};cs.get.hsl=function(e){if(!e)return null;var r=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=e.match(r);if(n){var o=parseFloat(n[4]),s=(parseFloat(n[1])%360+360)%360,a=clamp(parseFloat(n[2]),0,100),l=clamp(parseFloat(n[3]),0,100),c=clamp(isNaN(o)?1:o,0,1);return[s,a,l,c]}return null};cs.get.hwb=function(e){if(!e)return null;var r=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=e.match(r);if(n){var o=parseFloat(n[4]),s=(parseFloat(n[1])%360+360)%360,a=clamp(parseFloat(n[2]),0,100),l=clamp(parseFloat(n[3]),0,100),c=clamp(isNaN(o)?1:o,0,1);return[s,a,l,c]}return null};cs.to.hex=function(){var e=swizzle(arguments);return"#"+hexDouble(e[0])+hexDouble(e[1])+hexDouble(e[2])+(e[3]<1?hexDouble(Math.round(e[3]*255)):"")};cs.to.rgb=function(){var e=swizzle(arguments);return e.length<4||e[3]===1?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"};cs.to.rgb.percent=function(){var e=swizzle(arguments),r=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),o=Math.round(e[2]/255*100);return e.length<4||e[3]===1?"rgb("+r+"%, "+n+"%, "+o+"%)":"rgba("+r+"%, "+n+"%, "+o+"%, "+e[3]+")"};cs.to.hsl=function(){var e=swizzle(arguments);return e.length<4||e[3]===1?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"};cs.to.hwb=function(){var e=swizzle(arguments),r="";return e.length>=4&&e[3]!==1&&(r=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+r+")"};cs.to.keyword=function(e){return reverseNames[e.slice(0,3)]};function clamp(e,r,n){return Math.min(Math.max(r,e),n)}function hexDouble(e){var r=Math.round(e).toString(16).toUpperCase();return r.length<2?"0"+r:r}const cssKeywords=colorName,reverseKeywords={};for(const e of Object.keys(cssKeywords))reverseKeywords[cssKeywords[e]]=e;const convert$2={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var conversions$2=convert$2;for(const e of Object.keys(convert$2)){if(!("channels"in convert$2[e]))throw new Error("missing channels property: "+e);if(!("labels"in convert$2[e]))throw new Error("missing channel labels property: "+e);if(convert$2[e].labels.length!==convert$2[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:r,labels:n}=convert$2[e];delete convert$2[e].channels,delete convert$2[e].labels,Object.defineProperty(convert$2[e],"channels",{value:r}),Object.defineProperty(convert$2[e],"labels",{value:n})}convert$2.rgb.hsl=function(e){const r=e[0]/255,n=e[1]/255,o=e[2]/255,s=Math.min(r,n,o),a=Math.max(r,n,o),l=a-s;let c,u;a===s?c=0:r===a?c=(n-o)/l:n===a?c=2+(o-r)/l:o===a&&(c=4+(r-n)/l),c=Math.min(c*60,360),c<0&&(c+=360);const f=(s+a)/2;return a===s?u=0:f<=.5?u=l/(a+s):u=l/(2-a-s),[c,u*100,f*100]};convert$2.rgb.hsv=function(e){let r,n,o,s,a;const l=e[0]/255,c=e[1]/255,u=e[2]/255,f=Math.max(l,c,u),d=f-Math.min(l,c,u),h=function(p){return(f-p)/6/d+1/2};return d===0?(s=0,a=0):(a=d/f,r=h(l),n=h(c),o=h(u),l===f?s=o-n:c===f?s=1/3+r-o:u===f&&(s=2/3+n-r),s<0?s+=1:s>1&&(s-=1)),[s*360,a*100,f*100]};convert$2.rgb.hwb=function(e){const r=e[0],n=e[1];let o=e[2];const s=convert$2.rgb.hsl(e)[0],a=1/255*Math.min(r,Math.min(n,o));return o=1-1/255*Math.max(r,Math.max(n,o)),[s,a*100,o*100]};convert$2.rgb.cmyk=function(e){const r=e[0]/255,n=e[1]/255,o=e[2]/255,s=Math.min(1-r,1-n,1-o),a=(1-r-s)/(1-s)||0,l=(1-n-s)/(1-s)||0,c=(1-o-s)/(1-s)||0;return[a*100,l*100,c*100,s*100]};function comparativeDistance(e,r){return(e[0]-r[0])**2+(e[1]-r[1])**2+(e[2]-r[2])**2}convert$2.rgb.keyword=function(e){const r=reverseKeywords[e];if(r)return r;let n=1/0,o;for(const s of Object.keys(cssKeywords)){const a=cssKeywords[s],l=comparativeDistance(e,a);l<n&&(n=l,o=s)}return o};convert$2.keyword.rgb=function(e){return cssKeywords[e]};convert$2.rgb.xyz=function(e){let r=e[0]/255,n=e[1]/255,o=e[2]/255;r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,o=o>.04045?((o+.055)/1.055)**2.4:o/12.92;const s=r*.4124+n*.3576+o*.1805,a=r*.2126+n*.7152+o*.0722,l=r*.0193+n*.1192+o*.9505;return[s*100,a*100,l*100]};convert$2.rgb.lab=function(e){const r=convert$2.rgb.xyz(e);let n=r[0],o=r[1],s=r[2];n/=95.047,o/=100,s/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,o=o>.008856?o**(1/3):7.787*o+16/116,s=s>.008856?s**(1/3):7.787*s+16/116;const a=116*o-16,l=500*(n-o),c=200*(o-s);return[a,l,c]};convert$2.hsl.rgb=function(e){const r=e[0]/360,n=e[1]/100,o=e[2]/100;let s,a,l;if(n===0)return l=o*255,[l,l,l];o<.5?s=o*(1+n):s=o+n-o*n;const c=2*o-s,u=[0,0,0];for(let f=0;f<3;f++)a=r+1/3*-(f-1),a<0&&a++,a>1&&a--,6*a<1?l=c+(s-c)*6*a:2*a<1?l=s:3*a<2?l=c+(s-c)*(2/3-a)*6:l=c,u[f]=l*255;return u};convert$2.hsl.hsv=function(e){const r=e[0];let n=e[1]/100,o=e[2]/100,s=n;const a=Math.max(o,.01);o*=2,n*=o<=1?o:2-o,s*=a<=1?a:2-a;const l=(o+n)/2,c=o===0?2*s/(a+s):2*n/(o+n);return[r,c*100,l*100]};convert$2.hsv.rgb=function(e){const r=e[0]/60,n=e[1]/100;let o=e[2]/100;const s=Math.floor(r)%6,a=r-Math.floor(r),l=255*o*(1-n),c=255*o*(1-n*a),u=255*o*(1-n*(1-a));switch(o*=255,s){case 0:return[o,u,l];case 1:return[c,o,l];case 2:return[l,o,u];case 3:return[l,c,o];case 4:return[u,l,o];case 5:return[o,l,c]}};convert$2.hsv.hsl=function(e){const r=e[0],n=e[1]/100,o=e[2]/100,s=Math.max(o,.01);let a,l;l=(2-n)*o;const c=(2-n)*s;return a=n*s,a/=c<=1?c:2-c,a=a||0,l/=2,[r,a*100,l*100]};convert$2.hwb.rgb=function(e){const r=e[0]/360;let n=e[1]/100,o=e[2]/100;const s=n+o;let a;s>1&&(n/=s,o/=s);const l=Math.floor(6*r),c=1-o;a=6*r-l,(l&1)!==0&&(a=1-a);const u=n+a*(c-n);let f,d,h;switch(l){default:case 6:case 0:f=c,d=u,h=n;break;case 1:f=u,d=c,h=n;break;case 2:f=n,d=c,h=u;break;case 3:f=n,d=u,h=c;break;case 4:f=u,d=n,h=c;break;case 5:f=c,d=n,h=u;break}return[f*255,d*255,h*255]};convert$2.cmyk.rgb=function(e){const r=e[0]/100,n=e[1]/100,o=e[2]/100,s=e[3]/100,a=1-Math.min(1,r*(1-s)+s),l=1-Math.min(1,n*(1-s)+s),c=1-Math.min(1,o*(1-s)+s);return[a*255,l*255,c*255]};convert$2.xyz.rgb=function(e){const r=e[0]/100,n=e[1]/100,o=e[2]/100;let s,a,l;return s=r*3.2406+n*-1.5372+o*-.4986,a=r*-.9689+n*1.8758+o*.0415,l=r*.0557+n*-.204+o*1.057,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,a=a>.0031308?1.055*a**(1/2.4)-.055:a*12.92,l=l>.0031308?1.055*l**(1/2.4)-.055:l*12.92,s=Math.min(Math.max(0,s),1),a=Math.min(Math.max(0,a),1),l=Math.min(Math.max(0,l),1),[s*255,a*255,l*255]};convert$2.xyz.lab=function(e){let r=e[0],n=e[1],o=e[2];r/=95.047,n/=100,o/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,o=o>.008856?o**(1/3):7.787*o+16/116;const s=116*n-16,a=500*(r-n),l=200*(n-o);return[s,a,l]};convert$2.lab.xyz=function(e){const r=e[0],n=e[1],o=e[2];let s,a,l;a=(r+16)/116,s=n/500+a,l=a-o/200;const c=a**3,u=s**3,f=l**3;return a=c>.008856?c:(a-16/116)/7.787,s=u>.008856?u:(s-16/116)/7.787,l=f>.008856?f:(l-16/116)/7.787,s*=95.047,a*=100,l*=108.883,[s,a,l]};convert$2.lab.lch=function(e){const r=e[0],n=e[1],o=e[2];let s;s=Math.atan2(o,n)*360/2/Math.PI,s<0&&(s+=360);const l=Math.sqrt(n*n+o*o);return[r,l,s]};convert$2.lch.lab=function(e){const r=e[0],n=e[1],s=e[2]/360*2*Math.PI,a=n*Math.cos(s),l=n*Math.sin(s);return[r,a,l]};convert$2.rgb.ansi16=function(e,r=null){const[n,o,s]=e;let a=r===null?convert$2.rgb.hsv(e)[2]:r;if(a=Math.round(a/50),a===0)return 30;let l=30+(Math.round(s/255)<<2|Math.round(o/255)<<1|Math.round(n/255));return a===2&&(l+=60),l};convert$2.hsv.ansi16=function(e){return convert$2.rgb.ansi16(convert$2.hsv.rgb(e),e[2])};convert$2.rgb.ansi256=function(e){const r=e[0],n=e[1],o=e[2];return r===n&&n===o?r<8?16:r>248?231:Math.round((r-8)/247*24)+232:16+36*Math.round(r/255*5)+6*Math.round(n/255*5)+Math.round(o/255*5)};convert$2.ansi16.rgb=function(e){let r=e%10;if(r===0||r===7)return e>50&&(r+=3.5),r=r/10.5*255,[r,r,r];const n=(~~(e>50)+1)*.5,o=(r&1)*n*255,s=(r>>1&1)*n*255,a=(r>>2&1)*n*255;return[o,s,a]};convert$2.ansi256.rgb=function(e){if(e>=232){const a=(e-232)*10+8;return[a,a,a]}e-=16;let r;const n=Math.floor(e/36)/5*255,o=Math.floor((r=e%36)/6)/5*255,s=r%6/5*255;return[n,o,s]};convert$2.rgb.hex=function(e){const n=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(n.length)+n};convert$2.hex.rgb=function(e){const r=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!r)return[0,0,0];let n=r[0];r[0].length===3&&(n=n.split("").map(c=>c+c).join(""));const o=parseInt(n,16),s=o>>16&255,a=o>>8&255,l=o&255;return[s,a,l]};convert$2.rgb.hcg=function(e){const r=e[0]/255,n=e[1]/255,o=e[2]/255,s=Math.max(Math.max(r,n),o),a=Math.min(Math.min(r,n),o),l=s-a;let c,u;return l<1?c=a/(1-l):c=0,l<=0?u=0:s===r?u=(n-o)/l%6:s===n?u=2+(o-r)/l:u=4+(r-n)/l,u/=6,u%=1,[u*360,l*100,c*100]};convert$2.hsl.hcg=function(e){const r=e[1]/100,n=e[2]/100,o=n<.5?2*r*n:2*r*(1-n);let s=0;return o<1&&(s=(n-.5*o)/(1-o)),[e[0],o*100,s*100]};convert$2.hsv.hcg=function(e){const r=e[1]/100,n=e[2]/100,o=r*n;let s=0;return o<1&&(s=(n-o)/(1-o)),[e[0],o*100,s*100]};convert$2.hcg.rgb=function(e){const r=e[0]/360,n=e[1]/100,o=e[2]/100;if(n===0)return[o*255,o*255,o*255];const s=[0,0,0],a=r%1*6,l=a%1,c=1-l;let u=0;switch(Math.floor(a)){case 0:s[0]=1,s[1]=l,s[2]=0;break;case 1:s[0]=c,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=l;break;case 3:s[0]=0,s[1]=c,s[2]=1;break;case 4:s[0]=l,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=c}return u=(1-n)*o,[(n*s[0]+u)*255,(n*s[1]+u)*255,(n*s[2]+u)*255]};convert$2.hcg.hsv=function(e){const r=e[1]/100,n=e[2]/100,o=r+n*(1-r);let s=0;return o>0&&(s=r/o),[e[0],s*100,o*100]};convert$2.hcg.hsl=function(e){const r=e[1]/100,o=e[2]/100*(1-r)+.5*r;let s=0;return o>0&&o<.5?s=r/(2*o):o>=.5&&o<1&&(s=r/(2*(1-o))),[e[0],s*100,o*100]};convert$2.hcg.hwb=function(e){const r=e[1]/100,n=e[2]/100,o=r+n*(1-r);return[e[0],(o-r)*100,(1-o)*100]};convert$2.hwb.hcg=function(e){const r=e[1]/100,n=e[2]/100,o=1-n,s=o-r;let a=0;return s<1&&(a=(o-s)/(1-s)),[e[0],s*100,a*100]};convert$2.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};convert$2.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};convert$2.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};convert$2.gray.hsl=function(e){return[0,0,e[0]]};convert$2.gray.hsv=convert$2.gray.hsl;convert$2.gray.hwb=function(e){return[0,100,e[0]]};convert$2.gray.cmyk=function(e){return[0,0,0,e[0]]};convert$2.gray.lab=function(e){return[e[0],0,0]};convert$2.gray.hex=function(e){const r=Math.round(e[0]/100*255)&255,o=((r<<16)+(r<<8)+r).toString(16).toUpperCase();return"000000".substring(o.length)+o};convert$2.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};const conversions$1=conversions$2;function buildGraph(){const e={},r=Object.keys(conversions$1);for(let n=r.length,o=0;o<n;o++)e[r[o]]={distance:-1,parent:null};return e}function deriveBFS(e){const r=buildGraph(),n=[e];for(r[e].distance=0;n.length;){const o=n.pop(),s=Object.keys(conversions$1[o]);for(let a=s.length,l=0;l<a;l++){const c=s[l],u=r[c];u.distance===-1&&(u.distance=r[o].distance+1,u.parent=o,n.unshift(c))}}return r}function link(e,r){return function(n){return r(e(n))}}function wrapConversion(e,r){const n=[r[e].parent,e];let o=conversions$1[r[e].parent][e],s=r[e].parent;for(;r[s].parent;)n.unshift(r[s].parent),o=link(conversions$1[r[s].parent][s],o),s=r[s].parent;return o.conversion=n,o}var route$1=function(e){const r=deriveBFS(e),n={},o=Object.keys(r);for(let s=o.length,a=0;a<s;a++){const l=o[a];r[l].parent!==null&&(n[l]=wrapConversion(l,r))}return n};const conversions=conversions$2,route=route$1,convert$1={},models=Object.keys(conversions);function wrapRaw(e){const r=function(...n){const o=n[0];return o==null?o:(o.length>1&&(n=o),e(n))};return"conversion"in e&&(r.conversion=e.conversion),r}function wrapRounded(e){const r=function(...n){const o=n[0];if(o==null)return o;o.length>1&&(n=o);const s=e(n);if(typeof s=="object")for(let a=s.length,l=0;l<a;l++)s[l]=Math.round(s[l]);return s};return"conversion"in e&&(r.conversion=e.conversion),r}models.forEach(e=>{convert$1[e]={},Object.defineProperty(convert$1[e],"channels",{value:conversions[e].channels}),Object.defineProperty(convert$1[e],"labels",{value:conversions[e].labels});const r=route(e);Object.keys(r).forEach(o=>{const s=r[o];convert$1[e][o]=wrapRounded(s),convert$1[e][o].raw=wrapRaw(s)})});var colorConvert=convert$1;const colorString=colorString$1.exports,convert=colorConvert,_slice=[].slice,skippedModels=["keyword","gray","hex"],hashedModelKeys={};for(const e of Object.keys(convert))hashedModelKeys[_slice.call(convert[e].labels).sort().join("")]=e;const limiters={};function Color(e,r){if(!(this instanceof Color))return new Color(e,r);if(r&&r in skippedModels&&(r=null),r&&!(r in convert))throw new Error("Unknown model: "+r);let n,o;if(e==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof Color)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if(typeof e=="string"){const s=colorString.get(e);if(s===null)throw new Error("Unable to parse color from string: "+e);this.model=s.model,o=convert[this.model].channels,this.color=s.value.slice(0,o),this.valpha=typeof s.value[o]=="number"?s.value[o]:1}else if(e.length>0){this.model=r||"rgb",o=convert[this.model].channels;const s=_slice.call(e,0,o);this.color=zeroArray(s,o),this.valpha=typeof e[o]=="number"?e[o]:1}else if(typeof e=="number")this.model="rgb",this.color=[e>>16&255,e>>8&255,e&255],this.valpha=1;else{this.valpha=1;const s=Object.keys(e);"alpha"in e&&(s.splice(s.indexOf("alpha"),1),this.valpha=typeof e.alpha=="number"?e.alpha:0);const a=s.sort().join("");if(!(a in hashedModelKeys))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=hashedModelKeys[a];const l=convert[this.model].labels,c=[];for(n=0;n<l.length;n++)c.push(e[l[n]]);this.color=zeroArray(c)}if(limiters[this.model])for(o=convert[this.model].channels,n=0;n<o;n++){const s=limiters[this.model][n];s&&(this.color[n]=s(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Color.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let r=this.model in colorString.to?this:this.rgb();r=r.round(typeof e=="number"?e:1);const n=r.valpha===1?r.color:r.color.concat(this.valpha);return colorString.to[r.model](n)},percentString(e){const r=this.rgb().round(typeof e=="number"?e:1),n=r.valpha===1?r.color:r.color.concat(this.valpha);return colorString.to.rgb.percent(n)},array(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object(){const e={},r=convert[this.model].channels,n=convert[this.model].labels;for(let o=0;o<r;o++)e[n[o]]=this.color[o];return this.valpha!==1&&(e.alpha=this.valpha),e},unitArray(){const e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,this.valpha!==1&&e.push(this.valpha),e},unitObject(){const e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,this.valpha!==1&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new Color(this.color.map(roundToPlace(e)).concat(this.valpha),this.model)},alpha(e){return arguments.length>0?new Color(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:getset("rgb",0,maxfn(255)),green:getset("rgb",1,maxfn(255)),blue:getset("rgb",2,maxfn(255)),hue:getset(["hsl","hsv","hsl","hwb","hcg"],0,e=>(e%360+360)%360),saturationl:getset("hsl",1,maxfn(100)),lightness:getset("hsl",2,maxfn(100)),saturationv:getset("hsv",1,maxfn(100)),value:getset("hsv",2,maxfn(100)),chroma:getset("hcg",1,maxfn(100)),gray:getset("hcg",2,maxfn(100)),white:getset("hwb",1,maxfn(100)),wblack:getset("hwb",2,maxfn(100)),cyan:getset("cmyk",0,maxfn(100)),magenta:getset("cmyk",1,maxfn(100)),yellow:getset("cmyk",2,maxfn(100)),black:getset("cmyk",3,maxfn(100)),x:getset("xyz",0,maxfn(100)),y:getset("xyz",1,maxfn(100)),z:getset("xyz",2,maxfn(100)),l:getset("lab",0,maxfn(100)),a:getset("lab",1),b:getset("lab",2),keyword(e){return arguments.length>0?new Color(e):convert[this.model].keyword(this.color)},hex(e){return arguments.length>0?new Color(e):colorString.to.hex(this.rgb().round().color)},hexa(e){if(arguments.length>0)return new Color(e);const r=this.rgb().round().color;let n=Math.round(this.valpha*255).toString(16).toUpperCase();return n.length===1&&(n="0"+n),colorString.to.hex(r)+n},rgbNumber(){const e=this.rgb().color;return(e[0]&255)<<16|(e[1]&255)<<8|e[2]&255},luminosity(){const e=this.rgb().color,r=[];for(const[n,o]of e.entries()){const s=o/255;r[n]=s<=.03928?s/12.92:((s+.055)/1.055)**2.4}return .2126*r[0]+.7152*r[1]+.0722*r[2]},contrast(e){const r=this.luminosity(),n=e.luminosity();return r>n?(r+.05)/(n+.05):(n+.05)/(r+.05)},level(e){const r=this.contrast(e);return r>=7.1?"AAA":r>=4.5?"AA":""},isDark(){const e=this.rgb().color;return(e[0]*299+e[1]*587+e[2]*114)/1e3<128},isLight(){return!this.isDark()},negate(){const e=this.rgb();for(let r=0;r<3;r++)e.color[r]=255-e.color[r];return e},lighten(e){const r=this.hsl();return r.color[2]+=r.color[2]*e,r},darken(e){const r=this.hsl();return r.color[2]-=r.color[2]*e,r},saturate(e){const r=this.hsl();return r.color[1]+=r.color[1]*e,r},desaturate(e){const r=this.hsl();return r.color[1]-=r.color[1]*e,r},whiten(e){const r=this.hwb();return r.color[1]+=r.color[1]*e,r},blacken(e){const r=this.hwb();return r.color[2]+=r.color[2]*e,r},grayscale(){const e=this.rgb().color,r=e[0]*.3+e[1]*.59+e[2]*.11;return Color.rgb(r,r,r)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){const r=this.hsl();let n=r.color[0];return n=(n+e)%360,n=n<0?360+n:n,r.color[0]=n,r},mix(e,r){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);const n=e.rgb(),o=this.rgb(),s=r===void 0?.5:r,a=2*s-1,l=n.alpha()-o.alpha(),c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2,u=1-c;return Color.rgb(c*n.red()+u*o.red(),c*n.green()+u*o.green(),c*n.blue()+u*o.blue(),n.alpha()*s+o.alpha()*(1-s))}};for(const e of Object.keys(convert)){if(skippedModels.includes(e))continue;const r=convert[e].channels;Color.prototype[e]=function(){if(this.model===e)return new Color(this);if(arguments.length>0)return new Color(arguments,e);const n=typeof arguments[r]=="number"?r:this.valpha;return new Color(assertArray(convert[this.model][e].raw(this.color)).concat(n),e)},Color[e]=function(n){return typeof n=="number"&&(n=zeroArray(_slice.call(arguments),r)),new Color(n,e)}}function roundTo(e,r){return Number(e.toFixed(r))}function roundToPlace(e){return function(r){return roundTo(r,e)}}function getset(e,r,n){e=Array.isArray(e)?e:[e];for(const o of e)(limiters[o]||(limiters[o]=[]))[r]=n;return e=e[0],function(o){let s;return arguments.length>0?(n&&(o=n(o)),s=this[e](),s.color[r]=o,s):(s=this[e]().color[r],n&&(s=n(s)),s)}}function maxfn(e){return function(r){return Math.max(0,Math.min(e,r))}}function assertArray(e){return Array.isArray(e)?e:[e]}function zeroArray(e,r){for(let n=0;n<r;n++)typeof e[n]!="number"&&(e[n]=0);return e}var color$3=Color;const color$2=color$3,is$7=is$9,sharp$2=sharp$3.exports;function _inputOptionsFromObject(e){const{raw:r,density:n,limitInputPixels:o,unlimited:s,sequentialRead:a,failOnError:l,animated:c,page:u,pages:f,subifd:d}=e;return[r,n,o,s,a,l,c,u,f,d].some(is$7.defined)?{raw:r,density:n,limitInputPixels:o,unlimited:s,sequentialRead:a,failOnError:l,animated:c,page:u,pages:f,subifd:d}:void 0}function _createInputDescriptor(e,r,n){const o={failOnError:!0,limitInputPixels:Math.pow(16383,2),unlimited:!1,sequentialRead:!1};if(is$7.string(e))o.file=e;else if(is$7.buffer(e)){if(e.length===0)throw Error("Input Buffer is empty");o.buffer=e}else if(is$7.typedArray(e)){if(e.length===0)throw Error("Input Bit Array is empty");o.buffer=Buffer.from(e.buffer)}else if(is$7.plainObject(e)&&!is$7.defined(r))r=e,_inputOptionsFromObject(r)&&(o.buffer=[]);else if(!is$7.defined(e)&&!is$7.defined(r)&&is$7.object(n)&&n.allowStream)o.buffer=[];else throw new Error(`Unsupported input '${e}' of type ${typeof e}${is$7.defined(r)?` when also providing options of type ${typeof r}`:""}`);if(is$7.object(r)){if(is$7.defined(r.failOnError))if(is$7.bool(r.failOnError))o.failOnError=r.failOnError;else throw is$7.invalidParameterError("failOnError","boolean",r.failOnError);if(is$7.defined(r.density))if(is$7.inRange(r.density,1,1e5))o.density=r.density;else throw is$7.invalidParameterError("density","number between 1 and 100000",r.density);if(is$7.defined(r.limitInputPixels))if(is$7.bool(r.limitInputPixels))o.limitInputPixels=r.limitInputPixels?Math.pow(16383,2):0;else if(is$7.integer(r.limitInputPixels)&&r.limitInputPixels>=0)o.limitInputPixels=r.limitInputPixels;else throw is$7.invalidParameterError("limitInputPixels","integer >= 0",r.limitInputPixels);if(is$7.defined(r.unlimited))if(is$7.bool(r.unlimited))o.unlimited=r.unlimited;else throw is$7.invalidParameterError("unlimited","boolean",r.unlimited);if(is$7.defined(r.sequentialRead))if(is$7.bool(r.sequentialRead))o.sequentialRead=r.sequentialRead;else throw is$7.invalidParameterError("sequentialRead","boolean",r.sequentialRead);if(is$7.defined(r.raw))if(is$7.object(r.raw)&&is$7.integer(r.raw.width)&&r.raw.width>0&&is$7.integer(r.raw.height)&&r.raw.height>0&&is$7.integer(r.raw.channels)&&is$7.inRange(r.raw.channels,1,4))switch(o.rawWidth=r.raw.width,o.rawHeight=r.raw.height,o.rawChannels=r.raw.channels,o.rawPremultiplied=!!r.raw.premultiplied,e.constructor){case Uint8Array:case Uint8ClampedArray:o.rawDepth="uchar";break;case Int8Array:o.rawDepth="char";break;case Uint16Array:o.rawDepth="ushort";break;case Int16Array:o.rawDepth="short";break;case Uint32Array:o.rawDepth="uint";break;case Int32Array:o.rawDepth="int";break;case Float32Array:o.rawDepth="float";break;case Float64Array:o.rawDepth="double";break;default:o.rawDepth="uchar";break}else throw new Error("Expected width, height and channels for raw pixel input");if(is$7.defined(r.animated))if(is$7.bool(r.animated))o.pages=r.animated?-1:1;else throw is$7.invalidParameterError("animated","boolean",r.animated);if(is$7.defined(r.pages))if(is$7.integer(r.pages)&&is$7.inRange(r.pages,-1,1e5))o.pages=r.pages;else throw is$7.invalidParameterError("pages","integer between -1 and 100000",r.pages);if(is$7.defined(r.page))if(is$7.integer(r.page)&&is$7.inRange(r.page,0,1e5))o.page=r.page;else throw is$7.invalidParameterError("page","integer between 0 and 100000",r.page);if(is$7.defined(r.level))if(is$7.integer(r.level)&&is$7.inRange(r.level,0,256))o.level=r.level;else throw is$7.invalidParameterError("level","integer between 0 and 256",r.level);if(is$7.defined(r.subifd))if(is$7.integer(r.subifd)&&is$7.inRange(r.subifd,-1,1e5))o.subifd=r.subifd;else throw is$7.invalidParameterError("subifd","integer between -1 and 100000",r.subifd);if(is$7.defined(r.create))if(is$7.object(r.create)&&is$7.integer(r.create.width)&&r.create.width>0&&is$7.integer(r.create.height)&&r.create.height>0&&is$7.integer(r.create.channels)){if(o.createWidth=r.create.width,o.createHeight=r.create.height,o.createChannels=r.create.channels,is$7.defined(r.create.noise)){if(!is$7.object(r.create.noise))throw new Error("Expected noise to be an object");if(!is$7.inArray(r.create.noise.type,["gaussian"]))throw new Error("Only gaussian noise is supported at the moment");if(!is$7.inRange(r.create.channels,1,4))throw is$7.invalidParameterError("create.channels","number between 1 and 4",r.create.channels);if(o.createNoiseType=r.create.noise.type,is$7.number(r.create.noise.mean)&&is$7.inRange(r.create.noise.mean,0,1e4))o.createNoiseMean=r.create.noise.mean;else throw is$7.invalidParameterError("create.noise.mean","number between 0 and 10000",r.create.noise.mean);if(is$7.number(r.create.noise.sigma)&&is$7.inRange(r.create.noise.sigma,0,1e4))o.createNoiseSigma=r.create.noise.sigma;else throw is$7.invalidParameterError("create.noise.sigma","number between 0 and 10000",r.create.noise.sigma)}else if(is$7.defined(r.create.background)){if(!is$7.inRange(r.create.channels,3,4))throw is$7.invalidParameterError("create.channels","number between 3 and 4",r.create.channels);const s=color$2(r.create.background);o.createBackground=[s.red(),s.green(),s.blue(),Math.round(s.alpha()*255)]}else throw new Error("Expected valid noise or background to create a new input image");delete o.buffer}else throw new Error("Expected valid width, height and channels to create a new input image")}else if(is$7.defined(r))throw new Error("Invalid input options "+r);return o}function _write(e,r,n){Array.isArray(this.options.input.buffer)?is$7.buffer(e)?(this.options.input.buffer.length===0&&this.on("finish",()=>{this.streamInFinished=!0}),this.options.input.buffer.push(e),n()):n(new Error("Non-Buffer data on Writable Stream")):n(new Error("Unexpected data on Writable Stream"))}function _flattenBufferIn(){this._isStreamInput()&&(this.options.input.buffer=Buffer.concat(this.options.input.buffer))}function _isStreamInput(){return Array.isArray(this.options.input.buffer)}function metadata(e){return is$7.fn(e)?(this._isStreamInput()?this.on("finish",()=>{this._flattenBufferIn(),sharp$2.metadata(this.options,e)}):sharp$2.metadata(this.options,e),this):this._isStreamInput()?new Promise((r,n)=>{this.on("finish",()=>{this._flattenBufferIn(),sharp$2.metadata(this.options,(o,s)=>{o?n(o):r(s)})})}):new Promise((r,n)=>{sharp$2.metadata(this.options,(o,s)=>{o?n(o):r(s)})})}function stats(e){return is$7.fn(e)?(this._isStreamInput()?this.on("finish",()=>{this._flattenBufferIn(),sharp$2.stats(this.options,e)}):sharp$2.stats(this.options,e),this):this._isStreamInput()?new Promise((r,n)=>{this.on("finish",function(){this._flattenBufferIn(),sharp$2.stats(this.options,(o,s)=>{o?n(o):r(s)})})}):new Promise((r,n)=>{sharp$2.stats(this.options,(o,s)=>{o?n(o):r(s)})})}var input=function(e){Object.assign(e.prototype,{_inputOptionsFromObject,_createInputDescriptor,_write,_flattenBufferIn,_isStreamInput,metadata,stats})};const is$6=is$9,gravity={center:0,centre:0,north:1,east:2,south:3,west:4,northeast:5,southeast:6,southwest:7,northwest:8},position={top:1,right:2,bottom:3,left:4,"right top":5,"right bottom":6,"left bottom":7,"left top":8},strategy={entropy:16,attention:17},kernel={nearest:"nearest",cubic:"cubic",mitchell:"mitchell",lanczos2:"lanczos2",lanczos3:"lanczos3"},fit={contain:"contain",cover:"cover",fill:"fill",inside:"inside",outside:"outside"},mapFitToCanvas={contain:"embed",cover:"crop",fill:"ignore_aspect",inside:"max",outside:"min"};function isRotationExpected(e){return e.angle%360!==0||e.useExifOrientation===!0||e.rotationAngle!==0}function resize(e,r,n){if(is$6.defined(e))if(is$6.object(e)&&!is$6.defined(n))n=e;else if(is$6.integer(e)&&e>0)this.options.width=e;else throw is$6.invalidParameterError("width","positive integer",e);else this.options.width=-1;if(is$6.defined(r))if(is$6.integer(r)&&r>0)this.options.height=r;else throw is$6.invalidParameterError("height","positive integer",r);else this.options.height=-1;if(is$6.object(n)){if(is$6.defined(n.width))if(is$6.integer(n.width)&&n.width>0)this.options.width=n.width;else throw is$6.invalidParameterError("width","positive integer",n.width);if(is$6.defined(n.height))if(is$6.integer(n.height)&&n.height>0)this.options.height=n.height;else throw is$6.invalidParameterError("height","positive integer",n.height);if(is$6.defined(n.fit)){const o=mapFitToCanvas[n.fit];if(is$6.string(o))this.options.canvas=o;else throw is$6.invalidParameterError("fit","valid fit",n.fit)}if(is$6.defined(n.position)){const o=is$6.integer(n.position)?n.position:strategy[n.position]||position[n.position]||gravity[n.position];if(is$6.integer(o)&&(is$6.inRange(o,0,8)||is$6.inRange(o,16,17)))this.options.position=o;else throw is$6.invalidParameterError("position","valid position/gravity/strategy",n.position)}if(this._setBackgroundColourOption("resizeBackground",n.background),is$6.defined(n.kernel))if(is$6.string(kernel[n.kernel]))this.options.kernel=kernel[n.kernel];else throw is$6.invalidParameterError("kernel","valid kernel name",n.kernel);is$6.defined(n.withoutEnlargement)&&this._setBooleanOption("withoutEnlargement",n.withoutEnlargement),is$6.defined(n.withoutReduction)&&this._setBooleanOption("withoutReduction",n.withoutReduction),is$6.defined(n.fastShrinkOnLoad)&&this._setBooleanOption("fastShrinkOnLoad",n.fastShrinkOnLoad)}return this}function extend(e){if(is$6.integer(e)&&e>0)this.options.extendTop=e,this.options.extendBottom=e,this.options.extendLeft=e,this.options.extendRight=e;else if(is$6.object(e)){if(is$6.defined(e.top))if(is$6.integer(e.top)&&e.top>=0)this.options.extendTop=e.top;else throw is$6.invalidParameterError("top","positive integer",e.top);if(is$6.defined(e.bottom))if(is$6.integer(e.bottom)&&e.bottom>=0)this.options.extendBottom=e.bottom;else throw is$6.invalidParameterError("bottom","positive integer",e.bottom);if(is$6.defined(e.left))if(is$6.integer(e.left)&&e.left>=0)this.options.extendLeft=e.left;else throw is$6.invalidParameterError("left","positive integer",e.left);if(is$6.defined(e.right))if(is$6.integer(e.right)&&e.right>=0)this.options.extendRight=e.right;else throw is$6.invalidParameterError("right","positive integer",e.right);this._setBackgroundColourOption("extendBackground",e.background)}else throw is$6.invalidParameterError("extend","integer or object",e);return this}function extract(e){const r=this.options.width===-1&&this.options.height===-1?"Pre":"Post";return["left","top","width","height"].forEach(function(n){const o=e[n];if(is$6.integer(o)&&o>=0)this.options[n+(n==="left"||n==="top"?"Offset":"")+r]=o;else throw is$6.invalidParameterError(n,"integer",o)},this),r==="Pre"&&isRotationExpected(this.options)&&(this.options.rotateBeforePreExtract=!0),this}function trim(e){if(!is$6.defined(e))this.options.trimThreshold=10;else if(is$6.number(e)&&e>0)this.options.trimThreshold=e;else throw is$6.invalidParameterError("threshold","number greater than zero",e);return this.options.trimThreshold&&isRotationExpected(this.options)&&(this.options.rotateBeforePreExtract=!0),this}var resize_1=function(e){Object.assign(e.prototype,{resize,extend,extract,trim}),e.gravity=gravity,e.strategy=strategy,e.kernel=kernel,e.fit=fit,e.position=position};const is$5=is$9,blend={clear:"clear",source:"source",over:"over",in:"in",out:"out",atop:"atop",dest:"dest","dest-over":"dest-over","dest-in":"dest-in","dest-out":"dest-out","dest-atop":"dest-atop",xor:"xor",add:"add",saturate:"saturate",multiply:"multiply",screen:"screen",overlay:"overlay",darken:"darken",lighten:"lighten","colour-dodge":"colour-dodge","color-dodge":"colour-dodge","colour-burn":"colour-burn","color-burn":"colour-burn","hard-light":"hard-light","soft-light":"soft-light",difference:"difference",exclusion:"exclusion"};function composite(e){if(!Array.isArray(e))throw is$5.invalidParameterError("images to composite","array",e);return this.options.composite=e.map(r=>{if(!is$5.object(r))throw is$5.invalidParameterError("image to composite","object",r);const n=this._inputOptionsFromObject(r),o={input:this._createInputDescriptor(r.input,n,{allowStream:!1}),blend:"over",tile:!1,left:0,top:0,hasOffset:!1,gravity:0,premultiplied:!1};if(is$5.defined(r.blend))if(is$5.string(blend[r.blend]))o.blend=blend[r.blend];else throw is$5.invalidParameterError("blend","valid blend name",r.blend);if(is$5.defined(r.tile))if(is$5.bool(r.tile))o.tile=r.tile;else throw is$5.invalidParameterError("tile","boolean",r.tile);if(is$5.defined(r.left))if(is$5.integer(r.left))o.left=r.left;else throw is$5.invalidParameterError("left","integer",r.left);if(is$5.defined(r.top))if(is$5.integer(r.top))o.top=r.top;else throw is$5.invalidParameterError("top","integer",r.top);if(is$5.defined(r.top)!==is$5.defined(r.left))throw new Error("Expected both left and top to be set");if(o.hasOffset=is$5.integer(r.top)&&is$5.integer(r.left),is$5.defined(r.gravity))if(is$5.integer(r.gravity)&&is$5.inRange(r.gravity,0,8))o.gravity=r.gravity;else if(is$5.string(r.gravity)&&is$5.integer(this.constructor.gravity[r.gravity]))o.gravity=this.constructor.gravity[r.gravity];else throw is$5.invalidParameterError("gravity","valid gravity",r.gravity);if(is$5.defined(r.premultiplied))if(is$5.bool(r.premultiplied))o.premultiplied=r.premultiplied;else throw is$5.invalidParameterError("premultiplied","boolean",r.premultiplied);return o}),this}var composite_1=function(e){e.prototype.composite=composite,e.blend=blend};const color$1=color$3,is$4=is$9;function rotate(e,r){if(!is$4.defined(e))this.options.useExifOrientation=!0;else if(is$4.integer(e)&&!(e%90))this.options.angle=e;else if(is$4.number(e)){if(this.options.rotationAngle=e,is$4.object(r)&&r.background){const n=color$1(r.background);this.options.rotationBackground=[n.red(),n.green(),n.blue(),Math.round(n.alpha()*255)]}}else throw is$4.invalidParameterError("angle","numeric",e);return this}function flip(e){return this.options.flip=is$4.bool(e)?e:!0,this}function flop(e){return this.options.flop=is$4.bool(e)?e:!0,this}function affine(e,r){const n=[].concat(...e);if(n.length===4&&n.every(is$4.number))this.options.affineMatrix=n;else throw is$4.invalidParameterError("matrix","1x4 or 2x2 array",e);if(is$4.defined(r))if(is$4.object(r)){if(this._setBackgroundColourOption("affineBackground",r.background),is$4.defined(r.idx))if(is$4.number(r.idx))this.options.affineIdx=r.idx;else throw is$4.invalidParameterError("options.idx","number",r.idx);if(is$4.defined(r.idy))if(is$4.number(r.idy))this.options.affineIdy=r.idy;else throw is$4.invalidParameterError("options.idy","number",r.idy);if(is$4.defined(r.odx))if(is$4.number(r.odx))this.options.affineOdx=r.odx;else throw is$4.invalidParameterError("options.odx","number",r.odx);if(is$4.defined(r.ody))if(is$4.number(r.ody))this.options.affineOdy=r.ody;else throw is$4.invalidParameterError("options.ody","number",r.ody);if(is$4.defined(r.interpolator))if(is$4.inArray(r.interpolator,Object.values(this.constructor.interpolators)))this.options.affineInterpolator=r.interpolator;else throw is$4.invalidParameterError("options.interpolator","valid interpolator name",r.interpolator)}else throw is$4.invalidParameterError("options","object",r);return this}function sharpen(e,r,n){if(!is$4.defined(e))this.options.sharpenSigma=-1;else if(is$4.bool(e))this.options.sharpenSigma=e?-1:0;else if(is$4.number(e)&&is$4.inRange(e,.01,1e4)){if(this.options.sharpenSigma=e,is$4.defined(r))if(is$4.number(r)&&is$4.inRange(r,0,1e4))this.options.sharpenM1=r;else throw is$4.invalidParameterError("flat","number between 0 and 10000",r);if(is$4.defined(n))if(is$4.number(n)&&is$4.inRange(n,0,1e4))this.options.sharpenM2=n;else throw is$4.invalidParameterError("jagged","number between 0 and 10000",n)}else if(is$4.plainObject(e)){if(is$4.number(e.sigma)&&is$4.inRange(e.sigma,.01,1e4))this.options.sharpenSigma=e.sigma;else throw is$4.invalidParameterError("options.sigma","number between 0.01 and 10000",e.sigma);if(is$4.defined(e.m1))if(is$4.number(e.m1)&&is$4.inRange(e.m1,0,1e4))this.options.sharpenM1=e.m1;else throw is$4.invalidParameterError("options.m1","number between 0 and 10000",e.m1);if(is$4.defined(e.m2))if(is$4.number(e.m2)&&is$4.inRange(e.m2,0,1e4))this.options.sharpenM2=e.m2;else throw is$4.invalidParameterError("options.m2","number between 0 and 10000",e.m2);if(is$4.defined(e.x1))if(is$4.number(e.x1)&&is$4.inRange(e.x1,0,1e4))this.options.sharpenX1=e.x1;else throw is$4.invalidParameterError("options.x1","number between 0 and 10000",e.x1);if(is$4.defined(e.y2))if(is$4.number(e.y2)&&is$4.inRange(e.y2,0,1e4))this.options.sharpenY2=e.y2;else throw is$4.invalidParameterError("options.y2","number between 0 and 10000",e.y2);if(is$4.defined(e.y3))if(is$4.number(e.y3)&&is$4.inRange(e.y3,0,1e4))this.options.sharpenY3=e.y3;else throw is$4.invalidParameterError("options.y3","number between 0 and 10000",e.y3)}else throw is$4.invalidParameterError("sigma","number between 0.01 and 10000",e);return this}function median(e){if(!is$4.defined(e))this.options.medianSize=3;else if(is$4.integer(e)&&is$4.inRange(e,1,1e3))this.options.medianSize=e;else throw is$4.invalidParameterError("size","integer between 1 and 1000",e);return this}function blur(e){if(!is$4.defined(e))this.options.blurSigma=-1;else if(is$4.bool(e))this.options.blurSigma=e?-1:0;else if(is$4.number(e)&&is$4.inRange(e,.3,1e3))this.options.blurSigma=e;else throw is$4.invalidParameterError("sigma","number between 0.3 and 1000",e);return this}function flatten(e){return this.options.flatten=is$4.bool(e)?e:!0,is$4.object(e)&&this._setBackgroundColourOption("flattenBackground",e.background),this}function gamma(e,r){if(!is$4.defined(e))this.options.gamma=2.2;else if(is$4.number(e)&&is$4.inRange(e,1,3))this.options.gamma=e;else throw is$4.invalidParameterError("gamma","number between 1.0 and 3.0",e);if(!is$4.defined(r))this.options.gammaOut=this.options.gamma;else if(is$4.number(r)&&is$4.inRange(r,1,3))this.options.gammaOut=r;else throw is$4.invalidParameterError("gammaOut","number between 1.0 and 3.0",r);return this}function negate(e){if(this.options.negate=is$4.bool(e)?e:!0,is$4.plainObject(e)&&"alpha"in e)if(is$4.bool(e.alpha))this.options.negateAlpha=e.alpha;else throw is$4.invalidParameterError("alpha","should be boolean value",e.alpha);return this}function normalise(e){return this.options.normalise=is$4.bool(e)?e:!0,this}function normalize(e){return this.normalise(e)}function clahe(e){if(!is$4.plainObject(e))throw is$4.invalidParameterError("options","plain object",e);if(!("width"in e)||!is$4.integer(e.width)||e.width<=0)throw is$4.invalidParameterError("width","integer above zero",e.width);if(this.options.claheWidth=e.width,!("height"in e)||!is$4.integer(e.height)||e.height<=0)throw is$4.invalidParameterError("height","integer above zero",e.height);if(this.options.claheHeight=e.height,!is$4.defined(e.maxSlope))this.options.claheMaxSlope=3;else{if(!is$4.integer(e.maxSlope)||e.maxSlope<0||e.maxSlope>100)throw is$4.invalidParameterError("maxSlope","integer 0-100",e.maxSlope);this.options.claheMaxSlope=e.maxSlope}return this}function convolve(e){if(!is$4.object(e)||!Array.isArray(e.kernel)||!is$4.integer(e.width)||!is$4.integer(e.height)||!is$4.inRange(e.width,3,1001)||!is$4.inRange(e.height,3,1001)||e.height*e.width!==e.kernel.length)throw new Error("Invalid convolution kernel");return is$4.integer(e.scale)||(e.scale=e.kernel.reduce(function(r,n){return r+n},0)),e.scale<1&&(e.scale=1),is$4.integer(e.offset)||(e.offset=0),this.options.convKernel=e,this}function threshold(e,r){if(!is$4.defined(e))this.options.threshold=128;else if(is$4.bool(e))this.options.threshold=e?128:0;else if(is$4.integer(e)&&is$4.inRange(e,0,255))this.options.threshold=e;else throw is$4.invalidParameterError("threshold","integer between 0 and 255",e);return!is$4.object(r)||r.greyscale===!0||r.grayscale===!0?this.options.thresholdGrayscale=!0:this.options.thresholdGrayscale=!1,this}function boolean(e,r,n){if(this.options.boolean=this._createInputDescriptor(e,n),is$4.string(r)&&is$4.inArray(r,["and","or","eor"]))this.options.booleanOp=r;else throw is$4.invalidParameterError("operator","one of: and, or, eor",r);return this}function linear(e,r){if(!is$4.defined(e))this.options.linearA=1;else if(is$4.number(e))this.options.linearA=e;else throw is$4.invalidParameterError("a","numeric",e);if(!is$4.defined(r))this.options.linearB=0;else if(is$4.number(r))this.options.linearB=r;else throw is$4.invalidParameterError("b","numeric",r);return this}function recomb(e){if(!Array.isArray(e)||e.length!==3||e[0].length!==3||e[1].length!==3||e[2].length!==3)throw new Error("Invalid recombination matrix");return this.options.recombMatrix=[e[0][0],e[0][1],e[0][2],e[1][0],e[1][1],e[1][2],e[2][0],e[2][1],e[2][2]].map(Number),this}function modulate(e){if(!is$4.plainObject(e))throw is$4.invalidParameterError("options","plain object",e);if("brightness"in e)if(is$4.number(e.brightness)&&e.brightness>=0)this.options.brightness=e.brightness;else throw is$4.invalidParameterError("brightness","number above zero",e.brightness);if("saturation"in e)if(is$4.number(e.saturation)&&e.saturation>=0)this.options.saturation=e.saturation;else throw is$4.invalidParameterError("saturation","number above zero",e.saturation);if("hue"in e)if(is$4.integer(e.hue))this.options.hue=e.hue%360;else throw is$4.invalidParameterError("hue","number",e.hue);if("lightness"in e)if(is$4.number(e.lightness))this.options.lightness=e.lightness;else throw is$4.invalidParameterError("lightness","number",e.lightness);return this}var operation=function(e){Object.assign(e.prototype,{rotate,flip,flop,affine,sharpen,median,blur,flatten,gamma,negate,normalise,normalize,clahe,convolve,threshold,boolean,linear,recomb,modulate})};const color=color$3,is$3=is$9,colourspace={multiband:"multiband","b-w":"b-w",bw:"b-w",cmyk:"cmyk",srgb:"srgb"};function tint(e){const r=color(e);return this.options.tintA=r.a(),this.options.tintB=r.b(),this}function greyscale(e){return this.options.greyscale=is$3.bool(e)?e:!0,this}function grayscale(e){return this.greyscale(e)}function pipelineColourspace(e){if(!is$3.string(e))throw is$3.invalidParameterError("colourspace","string",e);return this.options.colourspaceInput=e,this}function pipelineColorspace(e){return this.pipelineColourspace(e)}function toColourspace(e){if(!is$3.string(e))throw is$3.invalidParameterError("colourspace","string",e);return this.options.colourspace=e,this}function toColorspace(e){return this.toColourspace(e)}function _setBackgroundColourOption(e,r){if(is$3.defined(r))if(is$3.object(r)||is$3.string(r)){const n=color(r);this.options[e]=[n.red(),n.green(),n.blue(),Math.round(n.alpha()*255)]}else throw is$3.invalidParameterError("background","object or string",r)}var colour=function(e){Object.assign(e.prototype,{tint,greyscale,grayscale,pipelineColourspace,pipelineColorspace,toColourspace,toColorspace,_setBackgroundColourOption}),e.colourspace=colourspace,e.colorspace=colourspace};const is$2=is$9,bool={and:"and",or:"or",eor:"eor"};function removeAlpha(){return this.options.removeAlpha=!0,this}function ensureAlpha(e){if(is$2.defined(e))if(is$2.number(e)&&is$2.inRange(e,0,1))this.options.ensureAlpha=e;else throw is$2.invalidParameterError("alpha","number between 0 and 1",e);else this.options.ensureAlpha=1;return this}function extractChannel(e){const r={red:0,green:1,blue:2,alpha:3};if(Object.keys(r).includes(e)&&(e=r[e]),is$2.integer(e)&&is$2.inRange(e,0,4))this.options.extractChannel=e;else throw is$2.invalidParameterError("channel","integer or one of: red, green, blue, alpha",e);return this.toColourspace("b-w")}function joinChannel(e,r){return Array.isArray(e)?e.forEach(function(n){this.options.joinChannelIn.push(this._createInputDescriptor(n,r))},this):this.options.joinChannelIn.push(this._createInputDescriptor(e,r)),this}function bandbool(e){if(is$2.string(e)&&is$2.inArray(e,["and","or","eor"]))this.options.bandBoolOp=e;else throw is$2.invalidParameterError("boolOp","one of: and, or, eor",e);return this}var channel=function(e){Object.assign(e.prototype,{removeAlpha,ensureAlpha,extractChannel,joinChannel,bandbool}),e.bool=bool};const path$1=require$$2,is$1=is$9,sharp$1=sharp$3.exports,formats=new Map([["heic","heif"],["heif","heif"],["avif","avif"],["jpeg","jpeg"],["jpg","jpeg"],["png","png"],["raw","raw"],["tiff","tiff"],["tif","tiff"],["webp","webp"],["gif","gif"],["jp2","jp2"],["jpx","jp2"],["j2k","jp2"],["j2c","jp2"]]),errJp2Save=new Error("JP2 output requires libvips with support for OpenJPEG"),bitdepthFromColourCount=e=>1<<31-Math.clz32(Math.ceil(Math.log2(e)));function toFile(e,r){let n;if(is$1.string(e)?is$1.string(this.options.input.file)&&path$1.resolve(this.options.input.file)===path$1.resolve(e)&&(n=new Error("Cannot use same file for input and output")):n=new Error("Missing output file path"),n)if(is$1.fn(r))r(n);else return Promise.reject(n);else return this.options.fileOut=e,this._pipeline(r);return this}function toBuffer(e,r){return is$1.object(e)?this._setBooleanOption("resolveWithObject",e.resolveWithObject):this.options.resolveWithObject&&(this.options.resolveWithObject=!1),this.options.fileOut="",this._pipeline(is$1.fn(e)?e:r)}function withMetadata(e){if(this.options.withMetadata=is$1.bool(e)?e:!0,is$1.object(e)){if(is$1.defined(e.orientation))if(is$1.integer(e.orientation)&&is$1.inRange(e.orientation,1,8))this.options.withMetadataOrientation=e.orientation;else throw is$1.invalidParameterError("orientation","integer between 1 and 8",e.orientation);if(is$1.defined(e.density))if(is$1.number(e.density)&&e.density>0)this.options.withMetadataDensity=e.density;else throw is$1.invalidParameterError("density","positive number",e.density);if(is$1.defined(e.icc))if(is$1.string(e.icc))this.options.withMetadataIcc=e.icc;else throw is$1.invalidParameterError("icc","string filesystem path to ICC profile",e.icc);if(is$1.defined(e.exif))if(is$1.object(e.exif))for(const[r,n]of Object.entries(e.exif))if(is$1.object(n))for(const[o,s]of Object.entries(n))if(is$1.string(s))this.options.withMetadataStrs[`exif-${r.toLowerCase()}-${o}`]=s;else throw is$1.invalidParameterError(`exif.${r}.${o}`,"string",s);else throw is$1.invalidParameterError(`exif.${r}`,"object",n);else throw is$1.invalidParameterError("exif","object",e.exif)}return this}function toFormat(e,r){const n=formats.get((is$1.object(e)&&is$1.string(e.id)?e.id:e).toLowerCase());if(!n)throw is$1.invalidParameterError("format",`one of: ${[...formats.keys()].join(", ")}`,e);return this[n](r)}function jpeg(e){if(is$1.object(e)){if(is$1.defined(e.quality))if(is$1.integer(e.quality)&&is$1.inRange(e.quality,1,100))this.options.jpegQuality=e.quality;else throw is$1.invalidParameterError("quality","integer between 1 and 100",e.quality);if(is$1.defined(e.progressive)&&this._setBooleanOption("jpegProgressive",e.progressive),is$1.defined(e.chromaSubsampling))if(is$1.string(e.chromaSubsampling)&&is$1.inArray(e.chromaSubsampling,["4:2:0","4:4:4"]))this.options.jpegChromaSubsampling=e.chromaSubsampling;else throw is$1.invalidParameterError("chromaSubsampling","one of: 4:2:0, 4:4:4",e.chromaSubsampling);const r=is$1.bool(e.optimizeCoding)?e.optimizeCoding:e.optimiseCoding;if(is$1.defined(r)&&this._setBooleanOption("jpegOptimiseCoding",r),is$1.defined(e.mozjpeg))if(is$1.bool(e.mozjpeg))e.mozjpeg&&(this.options.jpegTrellisQuantisation=!0,this.options.jpegOvershootDeringing=!0,this.options.jpegOptimiseScans=!0,this.options.jpegProgressive=!0,this.options.jpegQuantisationTable=3);else throw is$1.invalidParameterError("mozjpeg","boolean",e.mozjpeg);const n=is$1.bool(e.trellisQuantization)?e.trellisQuantization:e.trellisQuantisation;is$1.defined(n)&&this._setBooleanOption("jpegTrellisQuantisation",n),is$1.defined(e.overshootDeringing)&&this._setBooleanOption("jpegOvershootDeringing",e.overshootDeringing);const o=is$1.bool(e.optimizeScans)?e.optimizeScans:e.optimiseScans;is$1.defined(o)&&(this._setBooleanOption("jpegOptimiseScans",o),o&&(this.options.jpegProgressive=!0));const s=is$1.number(e.quantizationTable)?e.quantizationTable:e.quantisationTable;if(is$1.defined(s))if(is$1.integer(s)&&is$1.inRange(s,0,8))this.options.jpegQuantisationTable=s;else throw is$1.invalidParameterError("quantisationTable","integer between 0 and 8",s)}return this._updateFormatOut("jpeg",e)}function png(e){if(is$1.object(e)){if(is$1.defined(e.progressive)&&this._setBooleanOption("pngProgressive",e.progressive),is$1.defined(e.compressionLevel))if(is$1.integer(e.compressionLevel)&&is$1.inRange(e.compressionLevel,0,9))this.options.pngCompressionLevel=e.compressionLevel;else throw is$1.invalidParameterError("compressionLevel","integer between 0 and 9",e.compressionLevel);if(is$1.defined(e.adaptiveFiltering)&&this._setBooleanOption("pngAdaptiveFiltering",e.adaptiveFiltering),is$1.defined(e.palette)?this._setBooleanOption("pngPalette",e.palette):[e.quality,e.effort,e.colours,e.colors,e.dither].some(is$1.defined)&&this._setBooleanOption("pngPalette",!0),this.options.pngPalette){if(is$1.defined(e.quality))if(is$1.integer(e.quality)&&is$1.inRange(e.quality,0,100))this.options.pngQuality=e.quality;else throw is$1.invalidParameterError("quality","integer between 0 and 100",e.quality);if(is$1.defined(e.effort))if(is$1.integer(e.effort)&&is$1.inRange(e.effort,1,10))this.options.pngEffort=e.effort;else throw is$1.invalidParameterError("effort","integer between 1 and 10",e.effort);const r=e.colours||e.colors;if(is$1.defined(r))if(is$1.integer(r)&&is$1.inRange(r,2,256))this.options.pngBitdepth=bitdepthFromColourCount(r);else throw is$1.invalidParameterError("colours","integer between 2 and 256",r);if(is$1.defined(e.dither))if(is$1.number(e.dither)&&is$1.inRange(e.dither,0,1))this.options.pngDither=e.dither;else throw is$1.invalidParameterError("dither","number between 0.0 and 1.0",e.dither)}}return this._updateFormatOut("png",e)}function webp(e){if(is$1.object(e)){if(is$1.defined(e.quality))if(is$1.integer(e.quality)&&is$1.inRange(e.quality,1,100))this.options.webpQuality=e.quality;else throw is$1.invalidParameterError("quality","integer between 1 and 100",e.quality);if(is$1.defined(e.alphaQuality))if(is$1.integer(e.alphaQuality)&&is$1.inRange(e.alphaQuality,0,100))this.options.webpAlphaQuality=e.alphaQuality;else throw is$1.invalidParameterError("alphaQuality","integer between 0 and 100",e.alphaQuality);is$1.defined(e.lossless)&&this._setBooleanOption("webpLossless",e.lossless),is$1.defined(e.nearLossless)&&this._setBooleanOption("webpNearLossless",e.nearLossless),is$1.defined(e.smartSubsample)&&this._setBooleanOption("webpSmartSubsample",e.smartSubsample);const r=e.effort||e.reductionEffort;if(is$1.defined(r))if(is$1.integer(r)&&is$1.inRange(r,0,6))this.options.webpEffort=r;else throw is$1.invalidParameterError("effort","integer between 0 and 6",r)}return trySetAnimationOptions(e,this.options),this._updateFormatOut("webp",e)}function gif(e){if(is$1.object(e)){const r=e.colours||e.colors;if(is$1.defined(r))if(is$1.integer(r)&&is$1.inRange(r,2,256))this.options.gifBitdepth=bitdepthFromColourCount(r);else throw is$1.invalidParameterError("colours","integer between 2 and 256",r);if(is$1.defined(e.effort))if(is$1.number(e.effort)&&is$1.inRange(e.effort,1,10))this.options.gifEffort=e.effort;else throw is$1.invalidParameterError("effort","integer between 1 and 10",e.effort);if(is$1.defined(e.dither))if(is$1.number(e.dither)&&is$1.inRange(e.dither,0,1))this.options.gifDither=e.dither;else throw is$1.invalidParameterError("dither","number between 0.0 and 1.0",e.dither)}return trySetAnimationOptions(e,this.options),this._updateFormatOut("gif",e)}function jp2(e){if(!this.constructor.format.jp2k.output.buffer)throw errJp2Save;if(is$1.object(e)){if(is$1.defined(e.quality))if(is$1.integer(e.quality)&&is$1.inRange(e.quality,1,100))this.options.jp2Quality=e.quality;else throw is$1.invalidParameterError("quality","integer between 1 and 100",e.quality);if(is$1.defined(e.lossless))if(is$1.bool(e.lossless))this.options.jp2Lossless=e.lossless;else throw is$1.invalidParameterError("lossless","boolean",e.lossless);if(is$1.defined(e.tileWidth))if(is$1.integer(e.tileWidth)&&is$1.inRange(e.tileWidth,1,32768))this.options.jp2TileWidth=e.tileWidth;else throw is$1.invalidParameterError("tileWidth","integer between 1 and 32768",e.tileWidth);if(is$1.defined(e.tileHeight))if(is$1.integer(e.tileHeight)&&is$1.inRange(e.tileHeight,1,32768))this.options.jp2TileHeight=e.tileHeight;else throw is$1.invalidParameterError("tileHeight","integer between 1 and 32768",e.tileHeight);if(is$1.defined(e.chromaSubsampling))if(is$1.string(e.chromaSubsampling)&&is$1.inArray(e.chromaSubsampling,["4:2:0","4:4:4"]))this.options.heifChromaSubsampling=e.chromaSubsampling;else throw is$1.invalidParameterError("chromaSubsampling","one of: 4:2:0, 4:4:4",e.chromaSubsampling)}return this._updateFormatOut("jp2",e)}function trySetAnimationOptions(e,r){if(is$1.object(e)&&is$1.defined(e.loop))if(is$1.integer(e.loop)&&is$1.inRange(e.loop,0,65535))r.loop=e.loop;else throw is$1.invalidParameterError("loop","integer between 0 and 65535",e.loop);if(is$1.object(e)&&is$1.defined(e.delay))if(is$1.integer(e.delay)&&is$1.inRange(e.delay,0,65535))r.delay=[e.delay];else if(Array.isArray(e.delay)&&e.delay.every(is$1.integer)&&e.delay.every(n=>is$1.inRange(n,0,65535)))r.delay=e.delay;else throw is$1.invalidParameterError("delay","integer or an array of integers between 0 and 65535",e.delay)}function tiff(e){if(is$1.object(e)){if(is$1.defined(e.quality))if(is$1.integer(e.quality)&&is$1.inRange(e.quality,1,100))this.options.tiffQuality=e.quality;else throw is$1.invalidParameterError("quality","integer between 1 and 100",e.quality);if(is$1.defined(e.bitdepth))if(is$1.integer(e.bitdepth)&&is$1.inArray(e.bitdepth,[1,2,4,8]))this.options.tiffBitdepth=e.bitdepth;else throw is$1.invalidParameterError("bitdepth","1, 2, 4 or 8",e.bitdepth);if(is$1.defined(e.tile)&&this._setBooleanOption("tiffTile",e.tile),is$1.defined(e.tileWidth))if(is$1.integer(e.tileWidth)&&e.tileWidth>0)this.options.tiffTileWidth=e.tileWidth;else throw is$1.invalidParameterError("tileWidth","integer greater than zero",e.tileWidth);if(is$1.defined(e.tileHeight))if(is$1.integer(e.tileHeight)&&e.tileHeight>0)this.options.tiffTileHeight=e.tileHeight;else throw is$1.invalidParameterError("tileHeight","integer greater than zero",e.tileHeight);if(is$1.defined(e.pyramid)&&this._setBooleanOption("tiffPyramid",e.pyramid),is$1.defined(e.xres))if(is$1.number(e.xres)&&e.xres>0)this.options.tiffXres=e.xres;else throw is$1.invalidParameterError("xres","number greater than zero",e.xres);if(is$1.defined(e.yres))if(is$1.number(e.yres)&&e.yres>0)this.options.tiffYres=e.yres;else throw is$1.invalidParameterError("yres","number greater than zero",e.yres);if(is$1.defined(e.compression))if(is$1.string(e.compression)&&is$1.inArray(e.compression,["lzw","deflate","jpeg","ccittfax4","none"]))this.options.tiffCompression=e.compression;else throw is$1.invalidParameterError("compression","one of: lzw, deflate, jpeg, ccittfax4, none",e.compression);if(is$1.defined(e.predictor))if(is$1.string(e.predictor)&&is$1.inArray(e.predictor,["none","horizontal","float"]))this.options.tiffPredictor=e.predictor;else throw is$1.invalidParameterError("predictor","one of: none, horizontal, float",e.predictor);if(is$1.defined(e.resolutionUnit))if(is$1.string(e.resolutionUnit)&&is$1.inArray(e.resolutionUnit,["inch","cm"]))this.options.tiffResolutionUnit=e.resolutionUnit;else throw is$1.invalidParameterError("resolutionUnit","one of: inch, cm",e.resolutionUnit)}return this._updateFormatOut("tiff",e)}function avif(e){return this.heif(y(E({},e),{compression:"av1"}))}function heif(e){if(is$1.object(e)){if(is$1.defined(e.quality))if(is$1.integer(e.quality)&&is$1.inRange(e.quality,1,100))this.options.heifQuality=e.quality;else throw is$1.invalidParameterError("quality","integer between 1 and 100",e.quality);if(is$1.defined(e.lossless))if(is$1.bool(e.lossless))this.options.heifLossless=e.lossless;else throw is$1.invalidParameterError("lossless","boolean",e.lossless);if(is$1.defined(e.compression))if(is$1.string(e.compression)&&is$1.inArray(e.compression,["av1","hevc"]))this.options.heifCompression=e.compression;else throw is$1.invalidParameterError("compression","one of: av1, hevc",e.compression);if(is$1.defined(e.effort))if(is$1.integer(e.effort)&&is$1.inRange(e.effort,0,9))this.options.heifEffort=e.effort;else throw is$1.invalidParameterError("effort","integer between 0 and 9",e.effort);else if(is$1.defined(e.speed))if(is$1.integer(e.speed)&&is$1.inRange(e.speed,0,9))this.options.heifEffort=9-e.speed;else throw is$1.invalidParameterError("speed","integer between 0 and 9",e.speed);if(is$1.defined(e.chromaSubsampling))if(is$1.string(e.chromaSubsampling)&&is$1.inArray(e.chromaSubsampling,["4:2:0","4:4:4"]))this.options.heifChromaSubsampling=e.chromaSubsampling;else throw is$1.invalidParameterError("chromaSubsampling","one of: 4:2:0, 4:4:4",e.chromaSubsampling)}return this._updateFormatOut("heif",e)}function raw(e){if(is$1.object(e)&&is$1.defined(e.depth))if(is$1.string(e.depth)&&is$1.inArray(e.depth,["char","uchar","short","ushort","int","uint","float","complex","double","dpcomplex"]))this.options.rawDepth=e.depth;else throw is$1.invalidParameterError("depth","one of: char, uchar, short, ushort, int, uint, float, complex, double, dpcomplex",e.depth);return this._updateFormatOut("raw")}function tile(e){if(is$1.object(e)){if(is$1.defined(e.size))if(is$1.integer(e.size)&&is$1.inRange(e.size,1,8192))this.options.tileSize=e.size;else throw is$1.invalidParameterError("size","integer between 1 and 8192",e.size);if(is$1.defined(e.overlap))if(is$1.integer(e.overlap)&&is$1.inRange(e.overlap,0,8192)){if(e.overlap>this.options.tileSize)throw is$1.invalidParameterError("overlap",`<= size (${this.options.tileSize})`,e.overlap);this.options.tileOverlap=e.overlap}else throw is$1.invalidParameterError("overlap","integer between 0 and 8192",e.overlap);if(is$1.defined(e.container))if(is$1.string(e.container)&&is$1.inArray(e.container,["fs","zip"]))this.options.tileContainer=e.container;else throw is$1.invalidParameterError("container","one of: fs, zip",e.container);if(is$1.defined(e.layout))if(is$1.string(e.layout)&&is$1.inArray(e.layout,["dz","google","iiif","iiif3","zoomify"]))this.options.tileLayout=e.layout;else throw is$1.invalidParameterError("layout","one of: dz, google, iiif, iiif3, zoomify",e.layout);if(is$1.defined(e.angle))if(is$1.integer(e.angle)&&!(e.angle%90))this.options.tileAngle=e.angle;else throw is$1.invalidParameterError("angle","positive/negative multiple of 90",e.angle);if(this._setBackgroundColourOption("tileBackground",e.background),is$1.defined(e.depth))if(is$1.string(e.depth)&&is$1.inArray(e.depth,["onepixel","onetile","one"]))this.options.tileDepth=e.depth;else throw is$1.invalidParameterError("depth","one of: onepixel, onetile, one",e.depth);if(is$1.defined(e.skipBlanks))if(is$1.integer(e.skipBlanks)&&is$1.inRange(e.skipBlanks,-1,65535))this.options.tileSkipBlanks=e.skipBlanks;else throw is$1.invalidParameterError("skipBlanks","integer between -1 and 255/65535",e.skipBlanks);else is$1.defined(e.layout)&&e.layout==="google"&&(this.options.tileSkipBlanks=5);const r=is$1.bool(e.center)?e.center:e.centre;if(is$1.defined(r)&&this._setBooleanOption("tileCentre",r),is$1.defined(e.id))if(is$1.string(e.id))this.options.tileId=e.id;else throw is$1.invalidParameterError("id","string",e.id)}if(is$1.inArray(this.options.formatOut,["jpeg","png","webp"]))this.options.tileFormat=this.options.formatOut;else if(this.options.formatOut!=="input")throw is$1.invalidParameterError("format","one of: jpeg, png, webp",this.options.formatOut);return this._updateFormatOut("dz")}function timeout(e){if(!is$1.plainObject(e))throw is$1.invalidParameterError("options","object",e);if(is$1.integer(e.seconds)&&is$1.inRange(e.seconds,0,3600))this.options.timeoutSeconds=e.seconds;else throw is$1.invalidParameterError("seconds","integer between 0 and 3600",e.seconds);return this}function _updateFormatOut(e,r){return is$1.object(r)&&r.force===!1||(this.options.formatOut=e),this}function _setBooleanOption(e,r){if(is$1.bool(r))this.options[e]=r;else throw is$1.invalidParameterError(e,"boolean",r)}function _read(){this.options.streamOut||(this.options.streamOut=!0,this._pipeline())}function _pipeline(e){return typeof e=="function"?(this._isStreamInput()?this.on("finish",()=>{this._flattenBufferIn(),sharp$1.pipeline(this.options,e)}):sharp$1.pipeline(this.options,e),this):this.options.streamOut?(this._isStreamInput()?(this.once("finish",()=>{this._flattenBufferIn(),sharp$1.pipeline(this.options,(r,n,o)=>{r?this.emit("error",r):(this.emit("info",o),this.push(n)),this.push(null),this.emit("close")})}),this.streamInFinished&&this.emit("finish")):sharp$1.pipeline(this.options,(r,n,o)=>{r?this.emit("error",r):(this.emit("info",o),this.push(n)),this.push(null),this.emit("close")}),this):this._isStreamInput()?new Promise((r,n)=>{this.once("finish",()=>{this._flattenBufferIn(),sharp$1.pipeline(this.options,(o,s,a)=>{o?n(o):this.options.resolveWithObject?r({data:s,info:a}):r(s)})})}):new Promise((r,n)=>{sharp$1.pipeline(this.options,(o,s,a)=>{o?n(o):this.options.resolveWithObject?r({data:s,info:a}):r(s)})})}var output=function(e){Object.assign(e.prototype,{toFile,toBuffer,withMetadata,toFormat,jpeg,jp2,png,webp,tiff,avif,heif,gif,raw,tile,timeout,_updateFormatOut,_setBooleanOption,_read,_pipeline})};const fs=require$$2,path=require$$2,events=require$$2,detectLibc=detectLibc$2,is=is$9,platformAndArch=platform$1(),sharp=sharp$3.exports,format=sharp.format(),interpolators={nearest:"nearest",bilinear:"bilinear",bicubic:"bicubic",locallyBoundedBicubic:"lbb",nohalo:"nohalo",vertexSplitQuadraticBasisSpline:"vsqbs"};let versions={vips:sharp.libvipsVersion()};try{versions=commonjsRequire(`../vendor/${versions.vips}/${platformAndArch}/versions.json`)}catch(e){}const vendor={current:platformAndArch,installed:[]};try{vendor.installed=fs.readdirSync(path.join(__dirname,`../vendor/${versions.vips}`))}catch(e){}function cache(e){return is.bool(e)?e?sharp.cache(50,20,100):sharp.cache(0,0,0):is.object(e)?sharp.cache(e.memory,e.files,e.items):sharp.cache()}cache(!0);function concurrency(e){return sharp.concurrency(is.integer(e)?e:null)}detectLibc.familySync()===detectLibc.GLIBC&&!sharp._isUsingJemalloc()&&sharp.concurrency(1);const queue=new events.EventEmitter;function counters(){return sharp.counters()}function simd(e){return sharp.simd(is.bool(e)?e:null)}simd(!0);var utility=function(e){e.cache=cache,e.concurrency=concurrency,e.counters=counters,e.simd=simd,e.format=format,e.interpolators=interpolators,e.versions=versions,e.vendor=vendor,e.queue=queue};const Sharp=constructor;input(Sharp);resize_1(Sharp);composite_1(Sharp);operation(Sharp);colour(Sharp);channel(Sharp);output(Sharp);utility(Sharp);var lib=Sharp;function generatePages({dirs:e=[{dir:"pages",baseRoute:"pages"}],mediaFolder:r="media_files",publicMedia:n={icon:{width:300,height:300,fit:"inside"},cover:{size:1200,height:800,fit:"inside"}},extensions:o=["md"]}={}){function s(a){const l=path$3.resolve(a.component.substr(1)),c=grayMatter.read(l,{excerpt:!0}),{data:u,excerpt:f,content:d}=c,h=y(E(E({},a),u),{excerpt:f,empty:!d});u.type=="block"&&(h.content=d);for(let p in n)if(u[p]){let m=u[p];const $=path$3.join(a.path,m),v=$.split("/").filter(Boolean).join("-"),g=path$3.resolve("public",r,p),b=path$3.join("/",r,p,v);h[p]=b,path$3.existsSync(g)||path$3.mkdirSync(g,{recursive:!0}),lib(path$3.resolve($.substr(1))).resize({width:n[p].width,height:n[p].height,fit:n[p].fit}).toFile(path$3.join(g,v),(w,L)=>{w&&console.log(w,$)})}return h}return{dirs:e,extensions:o,extendRoute:s}}exports.generatePages=generatePages;
//# sourceMappingURL=vitepress-pages.cjs.js.map
